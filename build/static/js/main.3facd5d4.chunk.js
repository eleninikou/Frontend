(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e,t,a){},280:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.310509c9.jpg"},340:function(e,t,a){e.exports=a(635)},635:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),s=a(638),i=a(279),c=a(20),l=a(98),p=a(274),u=a(3),m={user:{},email:"",existing:!1,isFetching:!1,isAuthenticated:!1,errorMessage:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(u.a)({},e,{isFetching:!0,isAuthenticated:!1});case"LOGIN_SUCCESS":return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!0,user:t.payload});case"LOGIN_FAILURE":return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1,errorMessage:t.message});case"LOGOUT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1});case"REGISTER_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"REGISTER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,user:t.payload});case"REGISTER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GOOGLE_AUTH_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GOOGLE_AUTH_SUCCESS":return Object(u.a)({},e,{isFetching:!1,user:t.payload});case"GOOGLE_AUTH_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_USER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,user:t.payload.user});case"GET_USER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"UPDATE_USER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,user:t.payload.user,successMessage:t.payload.message});case"UPDATE_USER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_EMAIL_SUCCESS":return Object(u.a)({},e,{isFetching:!1,email:t.payload.email,existing:t.payload.existing});case"GET_EMAIL_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"ACCEPT_INVITATION_SUCCESS":return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!0,user:t.payload});case"ACCEPT_INVITATION_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});default:return e}},h={project:null,projects:[],tickets:[],milestones:[],team:[],emails:[],roles:[],allProjects:[],activity:[],isFetching:!1,errorMessage:null,successMessage:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROJECT_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_PROJECT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,project:t.payload.project,team:t.payload.team,tickets:t.payload.tickets});case"GET_PROJECT_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_PROJECTS_BY_USER_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_PROJECTS_BY_USER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,projects:t.payload});case"GET_PROJECTS_BY_USER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_ALL_PROJECTS_USER_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_ALL_PROJECTS_USER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,allProjects:t.payload.projects,milestones:t.payload.milestones});case"GET_ALL_PROJECTS_USER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"CREATE_PROJECT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,project:t.payload.project,successMessage:t.payload.message});case"CREATE_PROJECT_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"UPDATE_PROJECT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,project:t.payload.project,successMessage:t.payload.message});case"UPDATE_PROJECT_FAILURE":case"DELETE_PROJECT_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"DELETE_PROJECT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"GET_ACTIVITY_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_ACTIVITY_SUCCESS":return Object(u.a)({},e,{isFetching:!1,activity:t.payload.activity.flatMap(function(e){return e})});case"GET_ACTIVITY_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_ROLES_SUCCESS":return Object(u.a)({},e,{isFetching:!1,roles:t.payload.roles});case"GET_ROLES_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_TEAM_SUCCESS":return Object(u.a)({},e,{isFetching:!1,team:t.payload.team});case"GET_TEAM_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"INVITATION_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"INVITATION_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"INVITATION_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_INVITATIONS_SUCCESS":return Object(u.a)({},e,{isFetching:!1,emails:t.payload.emails});case"GET_INVITATIONS_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"REMOVE_FROM_TEAM_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"REMOVE_FROM_TEAM_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});default:return e}},E={ticket:{},comments:[],team:[],description:[],images:[],milestones:[],ticketTypes:[],ticketStatus:[],allTickets:[],isFetching:!1,errorMessage:null,succesMessage:"",url:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TICKET_SUCCESS":return Object(u.a)({},e,{isFetching:!1,ticket:t.payload.ticket,team:t.payload.team,milestones:t.payload.milestones,comments:t.payload.comments,description:t.payload.description,images:t.payload.images});case"GET_TICKET_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_ALL_TICKETS_USER_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_ALL_TICKETS_USER_SUCCESS":return Object(u.a)({},e,{isFetching:!1,allTickets:t.payload.tickets});case"GET_ALL_TICKETS_USER_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_TICKET_TYPES_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_TICKET_TYPES_SUCCESS":return Object(u.a)({},e,{isFetching:!1,ticketTypes:t.payload.types});case"GET_TICKET_TYPES_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_TICKET_STATUS_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_TICKET_STATUS_SUCCESS":return Object(u.a)({},e,{isFetching:!1,ticketStatus:t.payload.status});case"GET_TICKET_STATUS_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"CREATE_TICKET_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"CREATE_TICKET_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"UPDATE_TICKET_SUCCESS":return Object(u.a)({},e,{isFetching:!1,ticket:t.payload.ticket,successMessage:t.payload.message});case"UPDATE_TICKET_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"DELETE_TICKET_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"DELETE_TICKET_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"IMG_UPLOAD_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"IMG_UPLOAD_SUCCESS":return Object(u.a)({},e,{isFetching:!1,url:t.payload.url});case"IMG_UPLOAD_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});default:return e}},f={milestone:{},milestones:[],tickets:[],isFetching:!1,errorMessage:null,successMessage:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MILESTONE_SUCCESS":return Object(u.a)({},e,{isFetching:!1,milestone:t.payload.milestone,successMessage:t.payload.message});case"CREATE_MILESTONE_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"EDIT_MILESTONE_SUCCESS":return Object(u.a)({},e,{isFetching:!1,milestone:t.payload.milestone,successMessage:t.payload.message});case"EDIT_MILESTONE_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_MILESTONE_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_MILESTONE_SUCCESS":return Object(u.a)({},e,{isFetching:!1,milestone:t.payload.milestone,tickets:t.payload.tickets});case"GET_MILESTONE_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"DELETE_MILESTONE_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload});case"DELETE_MILESTONE_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});default:return e}},j={comment:{},comments:[],isFetching:!1,errorMessage:null,successMessage:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COMMENT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,comment:t.payload.comment,successMessage:t.payload.message});case"CREATE_COMMENT_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"GET_COMMENTS_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_COMMENTS_SUCCESS":return Object(u.a)({},e,{isFetching:!1,comments:t.payload.comments});case"GET_COMMENTS_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});case"DELETE_COMMENT_SUCCESS":return Object(u.a)({},e,{isFetching:!1,successMessage:t.payload.message});case"DELETE_COMMENT_FAILURE":return Object(u.a)({},e,{isFetching:!1,errorMessage:t.message});default:return e}},C=Object(l.c)({auth:d,project:g,ticket:b,milestone:x,comment:y}),v=a(11),S=a(12),T=a(14),O=a(13),_=a(15),k=a(47),w=a(637),P=a(641),A=a(639),N=a(24),F=a(4),I=a(44),R=a(6),M=a.n(R),U=a(5),L=a.n(U),D=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],s=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(s,16)},H={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},B={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},z={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},W=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],G=["#ff9800","#ffa726","#fb8c00","#ffa21a"],Y=["#f44336","#ef5350","#e53935","#f55a4e"],J=["#4caf50","#66bb6a","#43a047","#5cb860"],$=["#00acc1","#26c6da","#00acc1","#00d3ee"],K=["#e91e63","#ec407a","#d81b60","#eb3573"],V=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],Q={boxShadow:"0 10px 30px -12px rgba("+D("#000")+", 0.42), 0 4px 25px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D("#000")+", 0.2)"},X={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D(W[0])+",.4)"},q={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D($[0])+",.4)"},Z={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D(J[0])+",.4)"},ee={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D(G[0])+",.4)"},te={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D(Y[0])+",.4)"},ae={boxShadow:"0 4px 20px 0 rgba("+D("#000")+",.14), 0 7px 10px -5px rgba("+D(K[0])+",.4)"},ne=Object(u.a)({background:"linear-gradient(60deg, "+G[1]+", "+G[2]+")"},ee),re=Object(u.a)({background:"linear-gradient(60deg, "+J[1]+", "+J[2]+")"},Z),oe=Object(u.a)({background:"linear-gradient(60deg, "+Y[1]+", "+Y[2]+")"},te),se=Object(u.a)({background:"linear-gradient(60deg, "+$[1]+", "+$[2]+")"},q),ie=Object(u.a)({background:"linear-gradient(60deg, "+W[1]+", "+W[2]+")"},X),ce=Object(u.a)({background:"linear-gradient(60deg, "+K[1]+", "+K[2]+")"},ae),le=(Object(u.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+V[10],height:"auto"},z),D("#000"),D("#000"),D("#000"),D("#000"),D("#000"),{color:V[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:V[1],fontWeight:"400",lineHeight:"1"}}),pe=(Object(u.a)({},le,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(u.a)({},le,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+D("#000")+", 0.87)",background:"#FFF",width:"100%",boxShadow:"0 1px 4px 0 rgba("+D("#000")+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}});var ue=L()(pe)(function(e){var t,a=Object(I.a)({},e),n=a.classes,o=a.className,s=a.children,i=a.plain,c=a.profile,l=a.chart,p=Object(k.a)(a,["classes","className","children","plain","profile","chart"]),u=M()((t={},Object(F.a)(t,n.card,!0),Object(F.a)(t,n.cardPlain,i),Object(F.a)(t,n.cardProfile,c),Object(F.a)(t,n.cardChart,l),Object(F.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:u},p),s)}),me=a(18),de=a(49),he=a(16),ge=a.n(he),Ee=a(83),be=a.n(Ee),fe=a(162),xe=a.n(fe),je=a(8),ye=a.n(je),Ce=a(25),ve=new N.a,Se=ve.get("token"),Te=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GOOGLE_AUTH_SUCCESS",payload:e}),ve.set("token",e.success.token,{path:"/",maxAge:86399}),ve.set("user",e.success.user.id,{path:"/",maxAge:86399}),e},t.prev=1,a({type:"GOOGLE_AUTH_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/google"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"GOOGLE_AUTH_FAILURE",message:"Could not authenticate user"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_USER_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/users/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(Se),"Content-Type":"application/json","Access-Control-Allow-Origin":"*",mode:"no-cors"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"GET_USER_FAILURE",message:"Could not get user"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"ACCEPT_INVITATION_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/accept/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(Se),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"ACCEPT_INVITATION_FAILURE",message:"Could not get email"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},ke={successText:{color:J[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:V[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:V[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+D("#FFF")+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:V[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:V[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{display:"flex",justifyContent:"space-evenly",alignItems:"center",color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:V[1],fontWeight:"400",lineHeight:"1"}},formControl:{minWidth:"100%"}},we=a(113),Pe=a.n(we);var Ae=L()({grid:{margin:"0 -15px !important",width:"unset"}})(function(e){var t=e.classes,a=e.children,n=Object(k.a)(e,["classes","children"]);return r.a.createElement(Pe.a,Object.assign({container:!0},n,{className:t.grid}),a)});var Ne=L()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(I.a)({},e),a=t.classes,n=t.children,o=Object(k.a)(t,["classes","children"]);return r.a.createElement(Pe.a,Object.assign({item:!0},o,{className:a.grid}),n)}),Fe={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var Ie=L()(Fe)(function(e){var t,a=Object(I.a)({},e),n=a.classes,o=a.className,s=a.children,i=a.plain,c=a.profile,l=Object(k.a)(a,["classes","className","children","plain","profile"]),p=M()((t={},Object(F.a)(t,n.cardBody,!0),Object(F.a)(t,n.cardBodyPlain,i),Object(F.a)(t,n.cardBodyProfile,c),Object(F.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p},l),s)}),Re=a(57),Me=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).responseGoogle=function(e){e.error||a.props.googleLogin(e.profileObj).then(function(e){e.success?a.props.history.push("/home/dashboard"):a.setState({errorMessage:"Could not log in, show error message"})})},a.submit=function(e){e.preventDefault();var t=new N.a,n=t.get("invitation"),r={email:a.state.email,password:a.state.password};a.props.login(r).then(function(e){e.email?n?a.props.acceptInvitation(n).then(function(e){a.props.history.push({pathname:"/home/projects",state:{successMessage:e.message}}),t.remove("invitation",{path:"/"})}):a.props.history.push("/home/dashboard"):a.setState({errorMessage:"Could not log in, show error message"})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.state={email:a.props.email,password:"",errorMessage:""},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a.submit=a.submit.bind(Object(me.a)(Object(me.a)(a))),a.responseGoogle=a.responseGoogle.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Ae,null,r.a.createElement(Ie,null,r.a.createElement("form",{style:{width:"100%",textAlign:"center"},onSubmit:this.submit},r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:e.formControl},r.a.createElement(ge.a,{name:"email",type:"email",label:"Email",className:"my-input",fullWidth:!0,value:this.state.email,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:e.formControl},r.a.createElement(ge.a,{name:"password",type:"password",label:"Password",className:"my-input",fullWidth:!0,value:this.state.password,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{margin:"auto",marginTop:"30px"}},r.a.createElement(Re.a,{className:e.formControl},r.a.createElement(be.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"30px",backgroundColor:"#66bb6a",padding:"10px"}},"Login")))),this.props.email?null:r.a.createElement("div",null,r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{margin:"auto",textAlign:"center",marginTop:"20px"}},r.a.createElement(Re.a,{className:e.formControl},r.a.createElement(xe.a,{clientId:"490433308929-go7fh6c8fd4hbq4mgcp6qbpu0hcm1c2h.apps.googleusercontent.com",buttonText:"SIGN IN WITH GOOGLE",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,width:"100%",className:"google-btn"}))),r.a.createElement(Ne,{xs:12,sm:12,md:12,style:{textAlign:"center",marginTop:"20px"}},this.state.errorMessage))))))}}]),t}(n.Component),Ue=Object(A.a)(Object(c.b)(function(e){return{}},function(e){return{login:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"LOGIN_SUCCESS",payload:e.success.user}),ve.set("token",e.success.token,{path:"/",maxAge:86399}),ve.set("user",e.success.user.id,{path:"/",maxAge:86399}),e.success.user},t.prev=1,a({type:"LOGIN_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/login"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",mode:"no-cors"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"LOGIN_FAILURE",message:"Could not login user"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}(t))},googleLogin:function(t){return e(Te(t))},acceptInvitation:function(t){return e(_e(t))}}})(Object(de.withStyles)(ke)(Me))),Le={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},ne)},successCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},re)},dangerCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},oe)},infoCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},se)},primaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},ie)},roseCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(u.a)({},ce)}};var De=L()(Le)(function(e){var t,a=Object(I.a)({},e),n=a.classes,o=a.className,s=a.children,i=a.color,c=a.plain,l=a.stats,p=a.icon,u=Object(k.a)(a,["classes","className","children","color","plain","stats","icon"]),m=M()((t={},Object(F.a)(t,n.cardHeader,!0),Object(F.a)(t,n[i+"CardHeader"],i),Object(F.a)(t,n.cardHeaderPlain,c),Object(F.a)(t,n.cardHeaderStats,l),Object(F.a)(t,n.cardHeaderIcon,p),Object(F.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:m},u),s)}),He=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],s=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(s,16)},Be=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],ze=["#ff9800","#ffa726","#fb8c00","#ffa21a"],We=["#f44336","#ef5350","#e53935","#f55a4e"],Ge=["#4caf50","#66bb6a","#43a047","#5cb860"],Ye=["#00acc1","#26c6da","#00acc1","#00d3ee"],Je=["#e91e63","#ec407a","#d81b60","#eb3573"],$e=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],Ke=(He("#000"),He("#000"),He("#000"),{boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(Be[0])+",.4)"}),Ve={boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(Ye[0])+",.4)"},Qe={boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(Ge[0])+",.4)"},Xe={boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(ze[0])+",.4)"},qe={boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(We[0])+",.4)"},Ze={boxShadow:"0 4px 20px 0 rgba("+He("#000")+",.14), 0 7px 10px -5px rgba("+He(Je[0])+",.4)"},et=(Object(u.a)({background:"linear-gradient(60deg, "+ze[1]+", "+ze[2]+")"},Xe),Object(u.a)({background:"linear-gradient(60deg, "+Ge[1]+", "+Ge[2]+")"},Qe),Object(u.a)({background:"linear-gradient(60deg, "+We[1]+", "+We[2]+")"},qe),Object(u.a)({background:"linear-gradient(60deg, "+Ye[1]+", "+Ye[2]+")"},Ve),Object(u.a)({background:"linear-gradient(60deg, "+Be[1]+", "+Be[2]+")"},Ke),Object(u.a)({background:"linear-gradient(60deg, "+Je[1]+", "+Je[2]+")"},Ze),Object(u.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+$e[10],height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),He("#000"),He("#000"),He("#000"),He("#000"),He("#000"),{color:$e[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:$e[1],fontWeight:"400",lineHeight:"1"}}),tt=(Object(u.a)({},et,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(u.a)({},et,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{center:{width:"100vw",transform:"translateY(50%) translateX(15%)",margin:"auto"},cardTitleWhite:{color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:$e[1],fontWeight:"400",lineHeight:"1"}}}),at=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).componentWillMount=function(){var e=new N.a;"/home/logout"===a.props.match.url&&(e.remove("token",{path:"/"}),e.remove("user",{path:"/"}),e.remove("invitation",{path:"/"}),a.props.history.push("/"))},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{margin:"auto",marginTop:"50vh",transform:"translateY(-50%)"}},r.a.createElement(ue,null,r.a.createElement(De,{color:"success"},r.a.createElement("h4",{className:this.props.classes.cardTitleWhite},"Login")),r.a.createElement(Ie,null,r.a.createElement(Ue,null)))))}}]),t}(n.Component),nt=Object(A.a)(L()(tt)(at)),rt=a(276),ot={block:Object(u.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},z,{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Object(u.a)({bottom:"0",borderTop:"1px solid "+V[11],padding:"15px 0"},z),container:B,a:{color:W,textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};var st=L()(ot)(function(e){var t=Object(I.a)({},e).classes;return r.a.createElement("footer",{className:t.footer})}),it=a(640),ct=a(130),lt=a.n(ct),pt=a(60),ut=a.n(pt),mt=a(52),dt=a.n(mt),ht=a(34),gt=a.n(ht),Et=a(37),bt=a.n(Et),ft=a(149),xt=a.n(ft),jt=a(115),yt=a.n(jt),Ct=a(17),vt=a.n(Ct),St=a(10),Tt=a.n(St),Ot=a(95),_t=a.n(Ot),kt=a(82),wt=a.n(kt),Pt=a(75),At=a.n(Pt),Nt=a(97),Ft=a.n(Nt),It=a(96),Rt=a.n(It),Mt=a(76),Ut=a.n(Mt),Lt=a(167),Dt=a.n(Lt),Ht=a(114),Bt=a.n(Ht),zt=a(166),Wt=a.n(zt),Gt=a(22),Yt=a.n(Gt),Jt=a(64),$t=a.n(Jt),Kt=a(93),Vt=a.n(Kt),Qt=a(277),Xt=a.n(Qt),qt=a(278),Zt=a.n(qt),ea={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:V[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:W[0]}},underlineError:{"&:after":{borderColor:Y[0]}},underlineSuccess:{"&:after":{borderColor:J[0]}},labelRoot:Object(u.a)({},z,{color:V[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:Y[0]},labelRootSuccess:{color:J[0]},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"}};var ta=L()(ea)(function(e){var t,a,n=Object(I.a)({},e),o=n.classes,s=n.formControlProps,i=n.labelText,c=n.id,l=n.name,p=n.labelProps,u=n.inputProps,m=n.error,d=n.success,h=n.defaultValue,g=M()((t={},Object(F.a)(t," "+o.labelRootError,m),Object(F.a)(t," "+o.labelRootSuccess,d&&!m),t)),E=M()((a={},Object(F.a)(a,o.underlineError,m),Object(F.a)(a,o.underlineSuccess,d&&!m),Object(F.a)(a,o.underline,!0),a)),b=M()(Object(F.a)({},o.marginTop,void 0===i));return r.a.createElement(Yt.a,Object.assign({},s,{className:s.className+" "+o.formControl}),void 0!==i?r.a.createElement($t.a,Object.assign({className:o.labelRoot+g,htmlFor:c},p),i):null,r.a.createElement(Vt.a,Object.assign({classes:{root:b,disabled:o.disabled,underline:E},id:c,name:l,defaultValue:h},u)),m?r.a.createElement(Xt.a,{className:o.feedback+" "+o.labelRootError}):d?r.a.createElement(Zt.a,{className:o.feedback+" "+o.labelRootSuccess}):null)}),aa={button:{minHeight:"auto",minWidth:"auto",backgroundColor:V[0],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+D(V[0])+", 0.14), 0 3px 1px -2px rgba("+D(V[0])+", 0.2), 0 1px 5px 0 rgba("+D(V[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:V[0],boxShadow:"0 14px 26px -12px rgba("+D(V[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(V[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:V[0]}},rose:{backgroundColor:K[0],boxShadow:"0 2px 2px 0 rgba("+D(K[0])+", 0.14), 0 3px 1px -2px rgba("+D(K[0])+", 0.2), 0 1px 5px 0 rgba("+D(K[0])+", 0.12)","&:hover,&:focus":{backgroundColor:K[0],boxShadow:"0 14px 26px -12px rgba("+D(K[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(K[0])+", 0.2)"}},primary:{backgroundColor:W[0],boxShadow:"0 2px 2px 0 rgba("+D(W[0])+", 0.14), 0 3px 1px -2px rgba("+D(W[0])+", 0.2), 0 1px 5px 0 rgba("+D(W[0])+", 0.12)","&:hover,&:focus":{backgroundColor:W[0],boxShadow:"0 14px 26px -12px rgba("+D(W[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(W[0])+", 0.2)"}},info:{backgroundColor:$[0],boxShadow:"0 2px 2px 0 rgba("+D($[0])+", 0.14), 0 3px 1px -2px rgba("+D($[0])+", 0.2), 0 1px 5px 0 rgba("+D($[0])+", 0.12)","&:hover,&:focus":{backgroundColor:$[0],boxShadow:"0 14px 26px -12px rgba("+D($[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D($[0])+", 0.2)"}},success:{backgroundColor:J[0],boxShadow:"0 2px 2px 0 rgba("+D(J[0])+", 0.14), 0 3px 1px -2px rgba("+D(J[0])+", 0.2), 0 1px 5px 0 rgba("+D(J[0])+", 0.12)","&:hover,&:focus":{backgroundColor:J[0],boxShadow:"0 14px 26px -12px rgba("+D(J[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(J[0])+", 0.2)"}},warning:{backgroundColor:G[0],boxShadow:"0 2px 2px 0 rgba("+D(G[0])+", 0.14), 0 3px 1px -2px rgba("+D(G[0])+", 0.2), 0 1px 5px 0 rgba("+D(G[0])+", 0.12)","&:hover,&:focus":{backgroundColor:G[0],boxShadow:"0 14px 26px -12px rgba("+D(G[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(G[0])+", 0.2)"}},danger:{backgroundColor:Y[0],boxShadow:"0 2px 2px 0 rgba("+D(Y[0])+", 0.14), 0 3px 1px -2px rgba("+D(Y[0])+", 0.2), 0 1px 5px 0 rgba("+D(Y[0])+", 0.12)","&:hover,&:focus":{backgroundColor:Y[0],boxShadow:"0 14px 26px -12px rgba("+D(Y[0])+", 0.42), 0 4px 23px 0px rgba("+D("#000")+", 0.12), 0 8px 10px -5px rgba("+D(Y[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:K[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:W[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:$[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:J[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:G[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:Y[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:V[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var na=L()(aa)(function(e){var t,a=Object(I.a)({},e),n=a.classes,o=a.color,s=a.round,i=a.children,c=a.disabled,l=a.simple,p=a.size,u=a.block,m=a.link,d=a.justIcon,h=a.className,g=a.muiClasses,E=Object(k.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),b=M()((t={},Object(F.a)(t,n.button,!0),Object(F.a)(t,n[p],p),Object(F.a)(t,n[o],o),Object(F.a)(t,n.round,s),Object(F.a)(t,n.disabled,c),Object(F.a)(t,n.simple,l),Object(F.a)(t,n.block,u),Object(F.a)(t,n.link,m),Object(F.a)(t,n.justIcon,d),Object(F.a)(t,h,h),t));return r.a.createElement(be.a,Object.assign({},E,{classes:g,className:b}),i)}),ra=function(e){return{buttonLink:Object(F.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(F.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:V[9],marginRight:"15px"}),linkText:Object(u.a)({zIndex:"4"},z,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(F.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),pooperNav:Object(F.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+D("#000")+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#FFF",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(u.a)({},z,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:V[8],whiteSpace:"nowrap",height:"unset","&:hover":Object(u.a)({backgroundColor:W[0],color:"#FFF"},X)})}},oa=function(e){var t,a,n;return Object(u.a)({},ra(e),{search:Object(F.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}),linkText:Object(u.a)({zIndex:"4"},z,{fontSize:"14px",margin:"0px"}),buttonLink:Object(F.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(F.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(F.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:Y[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(F.a)(t,e.breakpoints.down("sm"),Object(u.a)({},z,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(F.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(F.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(F.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(F.a)(n,"display","inline-block"),n)})},sa=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return r.a.createElement("div",null,r.a.createElement("div",{className:t.searchWrapper},r.a.createElement(ta,{formControlProps:{className:t.margin+" "+t.search},inputProps:{placeholder:"Search",inputProps:{"aria-label":"Search"}}}),r.a.createElement(na,{color:"white","aria-label":"edit",justIcon:!0,round:!0},r.a.createElement(Wt.a,null))),r.a.createElement(na,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Dashboard",className:t.buttonLink},r.a.createElement(Bt.a,{className:t.icons}),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"Dashboard"))),r.a.createElement("div",{className:t.manager},r.a.createElement(na,{buttonRef:function(t){e.anchorEl=t},color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":a?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,className:t.buttonLink},r.a.createElement(Dt.a,{className:t.icons}),r.a.createElement("span",{className:t.notifications},"5"),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{onClick:this.handleClick,className:t.linkText},"Notification"))),r.a.createElement(Rt.a,{open:a,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:M()(Object(F.a)({},t.popperClose,!a))+" "+t.pooperNav},function(a){var n=a.TransitionProps,o=a.placement;return r.a.createElement(wt.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),r.a.createElement(At.a,null,r.a.createElement(Ft.a,{onClickAway:e.handleClose},r.a.createElement(_t.a,{role:"menu"},r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"Mike John responded to your email"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"You have 5 new tasks"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"You're now friend with Andrew"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"Another Notification"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"Another One")))))})),r.a.createElement(na,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Person",className:t.buttonLink},r.a.createElement(Ut.a,{className:t.icons}),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"Profile"))))}}]),t}(r.a.Component),ia=L()(oa)(sa),ca=function(e){var t,a,n;return Object(u.a)({},ra(e),{search:Object(F.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}),linkText:Object(u.a)({zIndex:"4"},z,{fontSize:"14px",margin:"0px"}),buttonLink:Object(F.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(F.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(F.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:Y[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(F.a)(t,e.breakpoints.down("sm"),Object(u.a)({},z,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(F.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(F.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(F.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(F.a)(n,"display","inline-block"),n)})},la=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return r.a.createElement("div",null,r.a.createElement("div",{className:t.searchWrapper},r.a.createElement(na,{color:"white","aria-label":"edit",justIcon:!0,round:!0},r.a.createElement(Wt.a,null))),r.a.createElement(na,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Dashboard",className:t.buttonLink},r.a.createElement(Bt.a,{className:t.icons}),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"\u0622\u0645\u0627\u0631\u0647\u0627"))),r.a.createElement("div",{className:t.manager},r.a.createElement(na,{buttonRef:function(t){e.anchorEl=t},color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":a?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,className:t.buttonLink},r.a.createElement(Dt.a,{className:t.icons}),r.a.createElement("span",{className:t.notifications},"\u06f5"),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{onClick:this.handleClick,className:t.linkText},"\u0627\u0639\u0644\u0627\u0646\u200c\u0647\u0627"))),r.a.createElement(Rt.a,{open:a,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:M()(Object(F.a)({},t.popperClose,!a))+" "+t.pooperNav},function(a){var n=a.TransitionProps,o=a.placement;return r.a.createElement(wt.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),r.a.createElement(At.a,null,r.a.createElement(Ft.a,{onClickAway:e.handleClose},r.a.createElement(_t.a,{role:"menu"},r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"\u0645\u062d\u0645\u062f\u0631\u0636\u0627 \u0628\u0647 \u0627\u06cc\u0645\u06cc\u0644 \u0634\u0645\u0627 \u067e\u0627\u0633\u062e \u062f\u0627\u062f"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"\u0634\u0645\u0627 \u06f5 \u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f \u062f\u0627\u0631\u06cc\u062f"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"\u0627\u0632 \u062d\u0627\u0644\u0627 \u0634\u0645\u0627 \u0628\u0627 \u0639\u0644\u06cc\u0631\u0636\u0627 \u062f\u0648\u0633\u062a \u0647\u0633\u062a\u06cc\u062f"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"\u0627\u0639\u0644\u0627\u0646 \u062f\u06cc\u06af\u0631"),r.a.createElement(Tt.a,{onClick:e.handleClose,className:t.dropdownItem},"\u0627\u0639\u0644\u0627\u0646 \u062f\u06cc\u06af\u0631")))))})),r.a.createElement(na,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Person",className:t.buttonLink},r.a.createElement(Ut.a,{className:t.icons}),r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"))))}}]),t}(r.a.Component),pa=L()(ca)(la),ua=function(e){var t,a;return{drawerPaper:Object(u.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},Q,(t={width:260},Object(F.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(F.a)(t,e.breakpoints.down("sm"),Object(u.a)({width:260},Q,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},H)),t)),drawerPaperRTL:(a={},Object(F.a)(a,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(F.a)(a,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),a),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+D(V[6])+", 0.3)"}},logoLink:Object(u.a)({},z,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFF"}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFF"}},itemLink:Object(u.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},z),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+D("#FFF")+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(u.a)({},z,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFF"}),itemTextRTL:{textAlign:"right"},whiteFont:{color:"#FFF"},purple:Object(u.a)({backgroundColor:W[0]},X,{"&:hover":Object(u.a)({backgroundColor:W[0]},X)}),blue:{backgroundColor:$[0],boxShadow:"0 12px 20px -10px rgba("+D($[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D($[0])+",.2)","&:hover":{backgroundColor:$[0],boxShadow:"0 12px 20px -10px rgba("+D($[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D($[0])+",.2)"}},green:{backgroundColor:J[0],boxShadow:"0 12px 20px -10px rgba("+D(J[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(J[0])+",.2)","&:hover":{backgroundColor:J[0],boxShadow:"0 12px 20px -10px rgba("+D(J[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(J[0])+",.2)"}},orange:{backgroundColor:G[0],boxShadow:"0 12px 20px -10px rgba("+D(G[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(G[0])+",.2)","&:hover":{backgroundColor:G[0],boxShadow:"0 12px 20px -10px rgba("+D(G[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(G[0])+",.2)"}},red:{backgroundColor:Y[0],boxShadow:"0 12px 20px -10px rgba("+D(Y[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(Y[0])+",.2)","&:hover":{backgroundColor:Y[0],boxShadow:"0 12px 20px -10px rgba("+D(Y[0])+",.28), 0 4px 20px 0 rgba("+D("#000")+",.12), 0 7px 8px -5px rgba("+D(Y[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(F.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},ma=L()(ua)(function(e){var t=Object(I.a)({},e);function a(e){return t.location.pathname.indexOf(e)>-1}var n=t.classes,o=t.color,s=t.image,i=t.logo,c=t.logoText,l=t.routes,p=r.a.createElement(dt.a,{className:n.list},l.map(function(e,s){var i,c=" ";"/logout"===e.path?(c=n.activePro+" ",i=M()(Object(F.a)({}," "+n[o],!0))):i=M()(Object(F.a)({}," "+n[o],a(e.layout+e.path)));var l=M()(Object(F.a)({}," "+n.whiteFont,a(e.layout+e.path)));return r.a.createElement(it.a,{to:e.layout+e.path,className:c+n.item,activeClassName:"active",key:s},r.a.createElement(gt.a,{button:!0,className:n.itemLink+i},"string"===typeof e.icon?r.a.createElement(xt.a,{className:M()(n.itemIcon,l,Object(F.a)({},n.itemIconRTL,t.rtlActive))},e.icon):r.a.createElement(e.icon,{className:M()(n.itemIcon,l,Object(F.a)({},n.itemIconRTL,t.rtlActive))}),r.a.createElement(bt.a,{primary:t.rtlActive?e.rtlName:e.name,className:M()(n.itemText,l,Object(F.a)({},n.itemTextRTL,t.rtlActive)),disableTypography:!0})))})),u=r.a.createElement("div",{className:n.logo},r.a.createElement("a",{href:"/home/user",style:{display:"flex",flexDirection:"column",textAlign:"center"},className:M()(n.logoLink,Object(F.a)({},n.logoLinkRTL,t.rtlActive))},r.a.createElement("div",{className:n.logoImage,style:{margin:"auto",paddingBottom:"70px",width:"auto"}},i?r.a.createElement("img",{src:i,alt:"logo",style:{borderRadius:"50%",height:"60px",width:"60px"}}):r.a.createElement(vt.a,null,r.a.createElement(yt.a,null)),r.a.createElement("h4",{style:{color:"white",fontFamily:"Roboto",fontSize:"14px",width:"auto"}},c))));return r.a.createElement("div",null,r.a.createElement(ut.a,{mdUp:!0,implementation:"css"},r.a.createElement(lt.a,{variant:"temporary",anchor:t.rtlActive?"left":"right",open:t.open,classes:{paper:M()(n.drawerPaper,Object(F.a)({},n.drawerPaperRTL,t.rtlActive))},onClose:t.handleDrawerToggle,ModalProps:{keepMounted:!0}},u,r.a.createElement("div",{className:n.sidebarWrapper},t.rtlActive?r.a.createElement(pa,null):r.a.createElement(ia,null),p),void 0!==s?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+s+")"}}):null)),r.a.createElement(ut.a,{smDown:!0,implementation:"css"},r.a.createElement(lt.a,{anchor:t.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:M()(n.drawerPaper,Object(F.a)({},n.drawerPaperRTL,t.rtlActive))}},u,r.a.createElement("div",{className:n.sidebarWrapper},p),void 0!==s?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+s+")"}}):null)))}),da=a(280),ha=a.n(da),ga=(new N.a).get("token"),Ea=function(){return function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_ALL_TICKETS_USER_SUCCESS",payload:e}),e},e.prev=1,t({type:"GET_ALL_TICKETS_USER_REQUEST"}),e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/tickets/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",a(r));case 12:return e.prev=12,e.t0=e.catch(1),t({type:"GET_ALL_TICKETS_USER_FAILURE",message:"Could not fetch tickets"}),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()},ba=function(){return function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r,o,s;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){t({type:"GET_TICKET_TYPES_REQUEST"})},n=function(e){return t({type:"GET_TICKET_TYPES_SUCCESS",payload:e}),e},r=function(e){return t({type:"GET_TICKET_TYPES_FAILURE",message:"Could not fetch ticket types"}),e},e.prev=3,a(),e.next=7,fetch("".concat("http://127.0.0.1:8000","/api/types"),{method:"GET",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 7:return o=e.sent,e.next=10,o.json();case 10:return s=e.sent,e.abrupt("return",n(s));case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",r(e.t0));case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}()},fa=function(){return function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_TICKET_STATUS_SUCCESS",payload:e}),e},e.prev=1,t({type:"GET_TICKET_STATUS_REQUEST"}),e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/status"),{method:"GET",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",a(r));case 12:return e.prev=12,e.t0=e.catch(1),t({type:"GET_TICKET_STATUS_FAILURE",message:"Could not fetch ticket status"}),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()},xa=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_TICKET_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/tickets/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_TICKET_FAILURE",message:"Could not delete ticket"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},ja=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_ATTACHMENT_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/tickets/image/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_ATTACHMENT_FAILURE",message:"Could not delete image"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},ya=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"REMOVE_FROM_STORAGE_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/tickets/storage"),{method:"DELETE",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"REMOVE_FROM_STORAGE_FAILURE",message:"Could not remove image"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},Ca=(new N.a).get("token"),va=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_PROJECT_SUCCESS",payload:e}),e},t.prev=1,a({type:"GET_PROJECT_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/projects/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"GET_PROJECT_FAILURE",message:"Could not fetch project"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()},Sa=function(){return function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_PROJECTS_BY_USER_SUCCESS",payload:e}),e},e.prev=1,t({type:"GET_PROJECTS_BY_USER_REQUEST"}),e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/projects/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",a(r));case 12:return e.prev=12,e.t0=e.catch(1),t({type:"GET_PROJECTS_BY_USER_FAILURE",message:"Could not fetch projects"}),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()},Ta=function(){return function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_ALL_PROJECTS_USER_SUCCESS",payload:e}),e},e.prev=1,t({type:"GET_ALL_PROJECTS_USER_REQUEST"}),e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/projects/user/all"),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",a(r));case 12:return e.prev=12,e.t0=e.catch(1),t({type:"GET_ALL_PROJECTS_USER_FAILURE",message:"Could not fetch projects"}),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()},Oa=function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_TEAM_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects/team/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"GET_TEAM_FAILURE",message:"Could not fetch roles"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},_a=a(150),ka=a.n(_a),wa=a(151),Pa=a.n(wa),Aa=a(116),Na=a.n(Aa),Fa=a(152),Ia=a.n(Fa),Ra=a(84),Ma=a.n(Ra),Ua=function(e){return{warningTableHeader:{color:G[0]},primaryTableHeader:{color:W[0]},dangerTableHeader:{color:Y[0]},successTableHeader:{color:J[0]},infoTableHeader:{color:$[0]},roseTableHeader:{color:K[0]},grayTableHeader:{color:V[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(u.a)({color:"inherit"},z,{fontSize:"1em"}),tableCell:Object(u.a)({},z,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle"}),tableResponsive:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}}};function La(e){var t=Object(I.a)({},e),a=t.classes,n=t.tableHead,o=t.tableData,s=t.tableHeaderColor,i=t.page,c=t.rowsPerPage,l=t.emptyRows;return r.a.createElement("div",{className:a.tableResponsive},r.a.createElement(ka.a,{className:a.table},void 0!==n?r.a.createElement(Pa.a,{className:a[s+"TableHeader"]},r.a.createElement(Na.a,null,n.map(function(e,t){return r.a.createElement(Ma.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)}))):null,r.a.createElement(Ia.a,null,o?o.map(function(e,t){return e?e.slice(i*c,i*c+c).map(function(e,t){return r.a.createElement(Na.a,{key:t},e?e.map(function(e,t){return"string"===typeof e&&-1!==e.search("href")||"string"===typeof e&&-1!==e.search("deleted")?r.a.createElement(Ma.a,{className:a.tableCell,key:t},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})):r.a.createElement(Ma.a,{className:a.tableCell,key:t},e)}):null)}):null}):null,l>0&&r.a.createElement(Na.a,{style:{height:48*l}},r.a.createElement(Ma.a,{colSpan:6})))))}La.defaultProps={tableHeaderColor:"gray"};var Da=Object(A.a)(L()(Ua)(La)),Ha=a(153),Ba=a.n(Ha),za=a(154),Wa=a.n(za),Ga={cardTitle:{float:"left",padding:"10px 10px 10px 0px",lineHeight:"24px"},cardTitleRTL:{float:"right",padding:"10px 0px 10px 10px !important"},displayNone:{display:"none !important"},tabsRoot:{minHeight:"unset !important",overflowX:"visible","& $tabRootButton":{fontSize:"0.875rem"}},tabRootButton:{minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",padding:"10px 15px",borderRadius:"3px",lineHeight:"24px",border:"0 !important",color:"#FFF !important",marginLeft:"4px","&:last-child":{marginLeft:"0px"}},tabLabelContainer:{padding:"0px"},tabLabel:{fontWeight:"500",fontSize:"12px"},tabSelected:{backgroundColor:"rgba("+D("#FFF")+", 0.2)",transition:"0.2s background-color 0.1s"},tabWrapper:{display:"inline-block",minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important","& > svg,& > .material-icons":{verticalAlign:"middle",margin:"-1px 5px 0 0"}}},Ya=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,o=a.headerColor,s=a.plainTabs,i=a.tabs,c=a.title,l=a.rtlActive,p=M()((e={},Object(F.a)(e,n.cardTitle,!0),Object(F.a)(e,n.cardTitleRTL,l),e));return r.a.createElement(Ie,{plain:s},r.a.createElement(De,{color:o,plain:s},void 0!==c?r.a.createElement("div",{className:p},c):null,r.a.createElement(Ba.a,{value:this.state.value,onChange:this.handleChange,classes:{root:n.tabsRoot,indicator:n.displayNone,scrollButtons:n.displayNone},variant:"scrollable",scrollButtons:"auto"},i.map(function(e,t){var a={};if(e)return e.tabIcon&&(a={icon:r.a.createElement(e.tabIcon,null)}),r.a.createElement(Wa.a,Object.assign({classes:{root:n.tabRootButton,labelContainer:n.tabLabelContainer,label:n.tabLabel,selected:n.tabSelected,wrapper:n.tabWrapper},key:t,label:e.tabName},a))}))),r.a.createElement(Ie,null,i.map(function(e,a){return a===t.state.value?r.a.createElement("div",{key:a},e.tabContent):null})))}}]),t}(r.a.Component),Ja=L()(Ga)(Ya),$a=a(41),Ka=a.n($a),Va=a(53),Qa=a.n(Va),Xa=a(19),qa=a.n(Xa),Za=a(40),en=a.n(Za),tn=a(51),an=a.n(tn),nn=a(65),rn=a.n(nn),on=a(71),sn=a.n(on),cn=a(72),ln=a.n(cn),pn=a(67),un=a.n(pn),mn=a(73),dn=a.n(mn),hn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.state={page:0,rowsPerPage:5,ticketRowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"goToTicket",value:function(e){this.props.history.push("/home/ticket/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tickets,o=this.state,s=o.rowsPerPage,i=o.page,c=s-Math.min(s,n?n.length:0-i*s);return r.a.createElement("div",null,r.a.createElement(Da,{page:i,rowsPerPage:s,emptyRows:c,tableHeaderColor:"primary",tableHead:["Title","Project","Type","Status","Priority","Milestone","Due Date","Details"],tableData:[n?n.map(function(t){return["".concat(t.title),"".concat(t.project.name),r.a.createElement(qa.a,{id:"tooltip-top-start",title:t.type.type,placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa",height:"30px",width:"30px",marginRight:"20px"}},1===t.type.id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===t.type.id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===t.type.id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}}))),"".concat(t.status.status),r.a.createElement(qa.a,{id:"tooltip-top-start",title:t.priority,placement:"top",classes:{tooltip:a.tooltip}},"low"===t.priority?r.a.createElement(vt.a,{style:{backgroundColor:"#FADC08",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})):"normal"===t.priority?r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})):r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}}))),"".concat(t.milestone.title),"".concat(Ka()(t.due_date).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Go To Ticket",placement:"top",classes:{tooltip:a.tooltip},onClick:e.goToTicket.bind(e,t.id)},r.a.createElement(en.a,{"aria-label":"Edit",className:a.tableActionButton},r.a.createElement(rn.a,{style:{color:"#ab47bc"},className:a.tableActionButtonIcon+" "+a.edit})))]}):null]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:n?n.length:0,rowsPerPage:s,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(n.Component),gn=Object(A.a)(hn),En=a(59),bn=a.n(En),fn=a(281),xn=a.n(fn),jn=a(66),yn=a.n(jn),Cn=a(168),vn=a.n(Cn),Sn=a(70),Tn=a.n(Sn),On=Object(de.withStyles)({colorPrimary:{color:"#26c6da"}})(Tn.a),_n=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.getSuccess=function(e){a.setState({successMessage:e}),a.showNotification("tr"),a.props.getProject(a.props.match.params.id).then(function(e){a.setState({id:e.project.id,name:e.project.name,description:e.project.description,client_id:e.project.client_id,milestones:e.project.milestones})})},a.state={page:0,rowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){this.props.getProjectsByUser(),this.props.getAllProjects(),this.props.getActivity(),this.props.getAllTickets()}},{key:"goToTicket",value:function(e){this.props.history.push("/home/ticket/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.allTickets,o=t.activity,s=t.isFetching,i=this.state,c=i.rowsPerPage,l=i.page,p=c-Math.min(c,o.length-l*c);return o?r.a.createElement("div",null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(Ja,{headerColor:"primary",tabs:[{tabName:"Activity",tabIcon:xn.a,tabContent:s?r.a.createElement(On,null):r.a.createElement("div",null,r.a.createElement(Da,{page:l,rowsPerPage:c,emptyRows:p,tableHeaderColor:"primary",tableData:[o?o.map(function(t){switch(t.type){case"milestone":e.icon=r.a.createElement(yn.a,{style:{color:"#ffa726"},className:a.tableActionButtonIcon+" "+a.edit});break;case"ticket":e.icon=r.a.createElement(bn.a,{style:{color:"#ab47bc"},className:a.tableActionButtonIcon+" "+a.edit});break;case"comment":e.icon=r.a.createElement(vn.a,{style:{color:"#00acc1"},className:a.tableActionButtonIcon+" "+a.edit});break;default:return""}return[r.a.createElement("img",{src:t.user.avatar,alt:"user",style:{display:"block",width:"30px",height:"30px",borderRadius:"50%"}}),"".concat(t.user.name),"".concat(t.text),"".concat(t.project.name),"".concat(t.created_at),r.a.createElement(en.a,{"aria-label":"Go to",className:a.tableActionButton},e.icon)]}):null]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:o.length,rowsPerPage:c,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))},{tabName:" My Tickets",tabIcon:bn.a,tabContent:r.a.createElement(gn,{tickets:n,classes:a,getSuccess:this.getSuccess.bind(this)})}]}))))):r.a.createElement(On,null)}}]),t}(n.Component),kn=Object(A.a)(Object(c.b)(function(e){return{projects:e.project.projects,allProjects:e.project.allProjects,allTickets:e.ticket.allTickets,activity:e.project.activity,isFetching:e.project.isFetching}},function(e){return{logout:function(){return e(function(){var e=Object(Ce.a)(ye.a.mark(function e(a){var n,r,o;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return a({type:"LOGOUT_SUCCESS",payload:e}),e},e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/api/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","Access-Control-Allow-Origin":"*",mode:"no-cors"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",n(o));case 11:return e.prev=11,e.t0=e.catch(1),a({type:"LOGOUT_FAILURE",message:"Could not logout user"}),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}());var t},getProjectsByUser:function(){return e(Sa())},getAllProjects:function(){return e(Ta())},getAllTickets:function(){return e(Ea())},getActivity:function(){return e(function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_ACTIVITY_SUCCESS",payload:e}),e},e.prev=1,t({type:"GET_ACTIVITY_REQUEST"}),e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/activity/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",a(r));case 12:return e.prev=12,e.t0=e.catch(1),t({type:"GET_ACTIVITY_FAILURE",message:"Could not fetch activity"}),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}())}}})(L()(ke)(_n))),wn=a(155),Pn=a.n(wn),An=a(85),Nn=a.n(An),Fn={root:Object(u.a)({},z,{flexWrap:"unset",position:"relative",padding:"20px 15px",lineHeight:"20px",marginBottom:"20px",fontSize:"14px",backgroundColor:"#FFF",color:V[7],borderRadius:"3px",minWidth:"unset",maxWidth:"unset",boxShadow:"0 12px 20px -10px rgba("+D("#FFF")+", 0.28), 0 4px 20px 0px rgba("+D("#000")+", 0.12), 0 7px 8px -5px rgba("+D("#FFF")+", 0.2)"}),top20:{top:"20px"},top40:{top:"40px"},info:Object(u.a)({backgroundColor:$[3],color:"#FFF"},q),success:Object(u.a)({backgroundColor:J[3],color:"#FFF"},Z),warning:Object(u.a)({backgroundColor:G[3],color:"#FFF"},ee),danger:Object(u.a)({backgroundColor:Y[3],color:"#FFF"},te),primary:Object(u.a)({backgroundColor:W[3],color:"#FFF"},X),rose:Object(u.a)({backgroundColor:K[3],color:"#FFF"},ae),message:{padding:"0",display:"block",maxWidth:"89%"},close:{width:"11px",height:"11px"},iconButton:{width:"24px",height:"24px",padding:"0px"},icon:{display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px",width:"30px",height:"30px"},infoIcon:{color:$[3]},successIcon:{color:J[3]},warningIcon:{color:G[3]},dangerIcon:{color:Y[3]},primaryIcon:{color:W[3]},roseIcon:{color:K[3]},iconMessage:{paddingLeft:"50px",display:"block"},actionRTL:{marginLeft:"-8px",marginRight:"auto"}};var In=L()(Fn)(function(e){var t=Object(I.a)({},e),a=t.classes,n=t.message,o=t.color,s=t.close,i=t.icon,c=t.place,l=t.open,p=t.rtlActive,u=[],m=M()(Object(F.a)({},a.iconMessage,void 0!==i));return void 0!==s&&(u=[r.a.createElement(en.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit",onClick:function(){return t.closeNotification()}},r.a.createElement(Nn.a,{className:a.close}))]),r.a.createElement(Pn.a,{anchorOrigin:{vertical:-1===c.indexOf("t")?"bottom":"top",horizontal:-1!==c.indexOf("l")?"left":-1!==c.indexOf("c")?"center":"right"},open:l,message:r.a.createElement("div",null,void 0!==i?r.a.createElement(t.icon,{className:a.icon}):null,r.a.createElement("span",{className:m},n)),action:u,ContentProps:{classes:{root:a.root+" "+a[o],message:a.message,action:M()(Object(F.a)({},a.actionRTL,p))}}})}),Rn=a(45),Mn=a.n(Rn),Un=a(208),Ln=a.n(Un),Dn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.state={page:0,rowsPerPage:5,ticketRowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"goToProject",value:function(e){this.props.history.push("/home/project/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.projects,o=this.state,s=o.rowsPerPage,i=o.page,c=s-Math.min(s,n.length-i*s);return r.a.createElement("div",null,r.a.createElement(Da,{page:i,rowsPerPage:s,emptyRows:c,tableHeaderColor:"success",tableHead:["Name","Created","Active","Open Tickets","Total Tickets","Last updated","Details"],tableData:[n?n.map(function(t){var n=t.tickets.filter(function(e){return 4!==e.status_id});return t?["".concat(t.project.name),"".concat(Ka()(t.project.created_at).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Active",placement:"top",classes:{tooltip:a.tooltip}},t.project?1===t.project.active?r.a.createElement(Ln.a,{style:{color:"#4caf50",fontSize:"15px"}}):r.a.createElement(Ln.a,{style:{color:"#ef5350",fontSize:"15px"}}):null),n.length,"".concat(t.tickets.length),"".concat(Ka()(t.updated_at).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Go to Project",placement:"top",classes:{tooltip:a.tooltip},onClick:e.goToProject.bind(e,t.project.id)},r.a.createElement(en.a,{"aria-label":"Go to",className:a.tableActionButton},r.a.createElement(rn.a,{style:{color:"#4caf50"},className:a.tableActionButtonIcon+" "+a.edit})))]:null}):null]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:n.length,rowsPerPage:s,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(n.Component),Hn=Object(A.a)(Dn),Bn=(a(192),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.getAllProjects();for(var e=window.setTimeout(null,0);e--;)window.clearTimeout(e);a.props.location.state&&(a.props.location.state.successMessage||a.props.location.state.errorMessage)&&(a.setState({successMessage:a.props.location.state.successMessage,errorMessage:a.props.location.state.errorMessage}),a.showNotification("tr"))},a.state={successMessage:a.props.successMessage,errorMessage:""},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),6e3)}},{key:"createNewProject",value:function(){this.props.history.push("/home/create-project/")}},{key:"render",value:function(){var e=this;var t,a,n=(t=this.props.allProjects,a="project_id",t.map(function(e){return e[a]}).map(function(e,t,a){return a.indexOf(e)===t&&t}).filter(function(e){return t[e]}).map(function(e){return t[e]}));return r.a.createElement(Ae,null,this.state.errorMessage?r.a.createElement(In,{place:"tr",color:"danger",icon:Mn.a,message:this.state.errorMessage,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}):r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:this.state.successMessage,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"success"},r.a.createElement("h4",{className:this.props.classes.cardTitleWhite},"Projects")),r.a.createElement(Ie,null,r.a.createElement(Hn,{projects:n,classes:this.props.classes}),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"success",onClick:this.createNewProject.bind(this)},"Create new Project")))))))}}]),t}(n.Component)),zn=Object(A.a)(Object(c.b)(function(e){return{allProjects:e.project.allProjects}},function(e){return{getAllProjects:function(){return e(Ta())}}})(L()(ke)(Bn))),Wn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.state={page:0,rowsPerPage:5,tickets:[],filtredTickets:[],type_id:"",priority:"",status_id:"",project_id:""},a.createNewTicket=a.createNewTicket.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.getAllTickets().then(function(t){e.setState({tickets:t.tickets})}),this.props.getTicketStatus(),this.props.getTicketTypes(),this.props.getAllProjects(),this.props.location.state&&this.props.location.state.errorMessage&&(this.setState({errorMessage:this.props.location.state.errorMessage}),this.showNotification("tr"))}},{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),6e3)}},{key:"createNewTicket",value:function(){this.props.history.push("/home/create-ticket")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.ticketStatus,o=t.ticketTypes,s=t.allProjects,i=this.state,c=i.status_id,l=i.type_id,p=i.priority,u=i.project_id,m=i.tickets,d=m?m.filter(function(e){return(c?parseInt(e.status_id)===parseInt(c):e)&&(l?parseInt(e.type_id)===parseInt(l):e)&&(p?e.priority===p:e)&&(u?parseInt(e.project_id)===parseInt(u):e)}):m;return r.a.createElement(Ae,null,r.a.createElement(In,{place:"tr",color:"danger",icon:Mn.a,message:this.state.errorMessage,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"primary"},r.a.createElement("h4",{className:a.cardTitleWhite},"Your tickets")),r.a.createElement(Ie,null,r.a.createElement(Ae,{style:{padding:"10px 20px 20px"}},r.a.createElement(Ne,{xs:12,sm:12,md:3},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{value:this.state.type_id,select:!0,label:"Type",onChange:this.handleChange,margin:"normal",inputProps:{name:"type_id",id:"type_id"}},r.a.createElement(Tt.a,{value:null},"All"),o?o.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id,style:{display:"flex",alignItems:"center"}},e.type)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:3},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{value:this.state.status_id,select:!0,label:"Status",onChange:this.handleChange,margin:"normal",inputProps:{name:"status_id",id:"status_id"}},r.a.createElement(Tt.a,{value:null},"All"),n?n.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id},e.status)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:3},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,label:"Priority",value:this.state.priority,onChange:this.handleChange,margin:"normal",inputProps:{name:"priority",id:"priority"}},r.a.createElement(Tt.a,{value:null},"All"),r.a.createElement(Tt.a,{value:"low"},"Low"),r.a.createElement(Tt.a,{value:"normal"},"Normal"),r.a.createElement(Tt.a,{value:"high"},"High")))),r.a.createElement(Ne,{xs:12,sm:12,md:3},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,label:"Project",value:this.state.project_id,onChange:this.handleChange,margin:"normal",inputProps:{name:"project_id",id:"project_id"}},r.a.createElement(Tt.a,{value:null},"All"),s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.project_id,value:e.project_id},e.project.name)}):null)))),r.a.createElement(gn,{tickets:d,classes:a}),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"primary",onClick:this.createNewTicket},"Create new Ticket")))))))}}]),t}(n.Component),Gn=Object(A.a)(Object(c.b)(function(e){return{allTickets:e.ticket.allTickets,ticketStatus:e.ticket.ticketStatus,ticketTypes:e.ticket.ticketTypes,allProjects:e.project.allProjects}},function(e){return{getAllTickets:function(){return e(Ea())},getTicketStatus:function(){return e(fa())},getTicketTypes:function(){return e(ba())},getAllProjects:function(){return e(Ta())}}})(L()(ke)(Wn))),Yn={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+V[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+V[10]}};var Jn=L()(Yn)(function(e){var t,a=Object(I.a)({},e),n=a.classes,o=a.className,s=a.children,i=a.plain,c=a.profile,l=a.stats,p=a.chart,u=Object(k.a)(a,["classes","className","children","plain","profile","stats","chart"]),m=M()((t={},Object(F.a)(t,n.cardFooter,!0),Object(F.a)(t,n.cardFooterPlain,i),Object(F.a)(t,n.cardFooterProfile,c),Object(F.a)(t,n.cardFooterStats,l),Object(F.a)(t,n.cardFooterChart,p),Object(F.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:m},u),s)}),$n=a(42),Kn=a.n($n),Vn=a(117),Qn=a.n(Vn),Xn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.match.params.id?(a.props.getProject(a.props.match.params.id).then(function(){a.setState({project_id:a.props.project.id,team:a.props.team,backToProject:!0})}),a.props.getEmails(a.props.match.params.id).then(function(){a.setState({emails:a.props.emails})})):a.props.getProjectsByUser(),a.props.getRoles()},a.submit=function(e){if(e.preventDefault(),a.state.email&&a.state.project_id&&a.state.project_role){var t={email:a.state.email,project_id:a.state.project_id,project_role:a.state.project_role};a.props.invite(t).then(function(){a.props.successMessage&&a.showNotification("tr")}),a.props.getEmails(a.state.project_id).then(function(e){a.setState({emails:e.emails})})}else a.setState({hasError:!0})},a.goBack=function(){a.props.history.push({pathname:"/home/project/".concat(a.state.project_id)})},a.handleChange=function(e){"create"==e.target.value&&a.props.history.push({pathname:"/home/create-project"}),a.setState(Object(F.a)({},e.target.name,e.target.value)),"project_id"==[e.target.name]&&(a.props.getTeam(e.target.value).then(function(e){a.setState({team:e.team})}),a.props.getEmails(e.target.value).then(function(e){a.setState({emails:e.emails})}))},a.state={project_name:"",project_role:"",project_id:"",email:"",emails:[],team:"",page:0,rowsPerPage:5,backToProject:!1,isFetching:!1,hasError:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),4e3)}},{key:"getUnique",value:function(e,t){return e.map(function(e){return e[t]}).map(function(e,t,a){return a.indexOf(e)===t&&t}).filter(function(t){return e[t]}).map(function(t){return e[t]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.projects,o=t.project,s=t.roles,i=t.successMessage,c=t.emails,l=t.isFetching,p=this.state,u=p.page,m=p.team,d=p.backToProject,h=p.hasError;return console.log(n),r.a.createElement(Ae,null,r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:i,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ne,{xs:12,sm:12,md:8},r.a.createElement(ue,null,r.a.createElement("form",{className:a.form,onSubmit:this.submit},r.a.createElement(De,{color:"info"},r.a.createElement("h4",{className:a.cardTitleWhite},"Invite people to join project")),r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(Yt.a,{className:a.formControl},h&&!this.state.project_id&&r.a.createElement(Kn.a,{id:"project_id"},"Please select project!"),r.a.createElement(ge.a,{select:!0,error:!(!h||this.state.project_id),disabled:!!d,label:"Project",margin:"normal",className:"my-input",value:this.state.project_id,onChange:this.handleChange,inputProps:{name:"project_id",id:"project_id"}},o?r.a.createElement(Tt.a,{defaultValue:!0,key:o.id,value:o.id},o.name):this.props.match.params.id&&!o?r.a.createElement(Tt.a,{defaultValue:!0,key:"",value:"create"},"You need to create a project first"):null,n.projects?n.projects.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.name," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(Yt.a,{className:a.formControl},h&&!this.state.project_role&&r.a.createElement(Kn.a,{id:"project_role"},"Please select role in the project!"),r.a.createElement(ge.a,{disabled:!this.state.project_id,select:!0,error:!(!h||this.state.project_role),label:"Role",margin:"normal",className:"my-input",value:this.state.project_role,onChange:this.handleChange,inputProps:{name:"project_role",id:"project_role"}},s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.role," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:a.formControl},h&&!this.state.email&&r.a.createElement(Kn.a,{id:"project_role"},"Please fill in email!"),r.a.createElement(ge.a,{disabled:!this.state.project_id,type:"email",label:"email",error:!(!h||this.state.email),className:"my-input",id:"email",formControlProps:{fullWidth:!0},onChange:this.handleChange,name:"email",fullWidth:!0}))))),r.a.createElement(Jn,null,r.a.createElement(na,{type:"submit",color:"info",disabled:!!h},"Invite"),d?r.a.createElement(na,{color:"info",onClick:this.goBack.bind(this)},"Back to project"):null)))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(ue,null,r.a.createElement(De,{color:"info"},r.a.createElement("h4",{className:a.cardTitleWhite},r.a.createElement(Qn.a,null))),r.a.createElement(Ie,null,m?r.a.createElement("div",null,r.a.createElement(Da,{page:u,rowsPerPage:m.length,emptyRows:0,tableHeaderColor:"info",tableHead:["Name","Role"],tableData:[m?m.map(function(e){return["".concat(e.user?e.user.name:null),"".concat(e.role?e.role.role:null)]}):null]})):null,r.a.createElement("div",{style:{margin:"20px",textAlign:"center"}},l?r.a.createElement(On,null):null),c.length&&!l?r.a.createElement("div",null,r.a.createElement(Da,{page:u,rowsPerPage:c.length,emptyRows:0,tableHeaderColor:"info",tableHead:["Invited"],tableData:[c?c.map(function(e){return["".concat(e)]}):null]})):null))))}}]),t}(n.Component),qn=Object(A.a)(Object(c.b)(function(e){return{project:e.project.project,projects:e.project.projects,team:e.project.team,isFetching:e.project.isFetching,roles:e.project.roles,successMessage:e.project.successMessage,emails:e.project.emails}},function(e){return{getProjectsByUser:function(){return e(Sa())},getProject:function(t){return e(va(t))},getRoles:function(){return e(function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var a,n,r;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return t({type:"GET_ROLES_SUCCESS",payload:e}),e},e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/api/roles"),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",a(r));case 11:return e.prev=11,e.t0=e.catch(1),t({type:"GET_ROLES_FAILURE",message:"Could not fetch roles"}),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}())},getTeam:function(t){return e(Oa(t))},invite:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"INVITATION_SUCCESS",payload:e}),e},t.prev=1,a({type:"INVITATION_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/projects/").concat(e.project_id,"/invite"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"INVITATION_FAILURE",message:"Could not fetch roles"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}(t))},getEmails:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_INVITATIONS_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects/").concat(e,"/invited"),{method:"GET",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"GET_INVITATIONS_FAILURE",message:"Could not fetch emails"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(L()(ke)(Xn))),Zn=a(86),er=a.n(Zn),tr=a(87),ar=a.n(tr),nr=a(63),rr=a.n(nr),or=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).responseGoogle=function(e){e.error||a.props.googleLogin(e.profileObj).then(function(e){e.success?a.props.history.push("/home/dashboard"):a.setState({errorMessage:"Could not log in, show error message"})})},a.submit=function(e){if(e.preventDefault(),a.state.password===a.state.repeatPassword){a.props.email?a.email=a.props.email:a.email=a.state.email;var t={name:a.state.name,email:a.email,password:a.state.password};a.props.register(t).then(function(e){e.email?a.state.invitation?a.props.redirect(a.state.invitation,!0):a.props.history.push("/home/dashboard"):a.setState({errorMessage:"Could not log in, show error message"})})}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.componentWillMount=function(){var e=(new N.a).get("invitation");a.setState({invitation:e})},a.state={name:"",email:"",password:"",repeatPassword:"",errorMessage:"",invitation:""},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a.submit=a.submit.bind(Object(me.a)(Object(me.a)(a))),a.responseGoogle=a.responseGoogle.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.email;return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Ae,null,r.a.createElement(Ie,null,r.a.createElement("form",{style:{width:"100%",textAlign:"center"},onSubmit:this.submit},r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(ge.a,{name:"name",type:"text",label:"Full name",className:"my-input",fullWidth:!0,value:this.state.name,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(ge.a,{disabled:!!a,name:"email",type:"email",label:"Email",className:"my-input",fullWidth:!0,value:a,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(ge.a,{name:"password",type:"password",label:"Password",className:"my-input",fullWidth:!0,value:this.state.password,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:8,style:{margin:"auto"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(ge.a,{name:"repeatPassword",type:"repeatPassword",label:"Repeat Password",className:"my-input",fullWidth:!0,value:this.state.repeatPassword,onChange:this.handleChange}))),r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{margin:"auto"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(be.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"30px",backgroundColor:"#66bb6a",padding:"10px"}},"Register")))),this.state.invitation?null:r.a.createElement("div",null,r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{textAlign:"center",marginTop:"20px"}},r.a.createElement(rr.a,{style:{margin:"20px"}},"OR")),r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{textAlign:"center",marginTop:"20px"}},r.a.createElement(Re.a,{className:t.formControl},r.a.createElement(xe.a,{clientId:"490433308929-go7fh6c8fd4hbq4mgcp6qbpu0hcm1c2h.apps.googleusercontent.com",buttonText:"User your google account",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,width:"100%"})))),r.a.createElement(Ne,{xs:12,sm:12,md:12,style:{textAlign:"center",marginTop:"20px"}},this.state.errorMessage)))))}}]),t}(n.Component),sr=Object(A.a)(Object(c.b)(function(e){return{}},function(e){return{register:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"REGISTER_SUCCESS",payload:e.success.user}),ve.set("token",e.success.token,{path:"/",maxAge:86399}),ve.set("user",e.success.user.id,{path:"/",maxAge:86399}),e.success.user},t.prev=1,a({type:"REGISTER_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/register"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",mode:"no-cors"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"REGISTER_FAILURE",message:"Could not register user"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}(t))},googleLogin:function(t){return e(Te(t))},acceptInvitation:function(t){return e(_e(t))}}})(Object(de.withStyles)(ke)(or))),ir=(new N.a).get("token"),cr=function(e,t){return function(){var a=Object(Ce.a)(ye.a.mark(function a(n){var r,o,s;return ye.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=function(e){return n({type:"EDIT_MILESTONE_SUCCESS",payload:e}),e},a.prev=1,a.next=4,fetch("".concat("http://127.0.0.1:8000","/api/milestones/").concat(t),{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(ir),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return o=a.sent,a.next=7,o.json();case 7:return s=a.sent,a.abrupt("return",r(s));case 11:return a.prev=11,a.t0=a.catch(1),n({type:"EDIT_MILESTONE_FAILURE",message:"Could not update milestone"}),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}},a,null,[[1,11]])}));return function(e){return a.apply(this,arguments)}}()},lr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).submit=function(e){e.preventDefault();""===a.state.selectedDate?a.date=a.state.due_date:a.date=a.state.selectedDate;var t={project_id:a.state.project_id,title:a.state.title,focus:a.state.focus,due_date:a.date};a.props.milestoneEdit(t,a.props.match.params.id).then(function(e){a.setSuccess(e.message),a.closeEdit()})},a.handleDateChange=function(e){a.setState({selectedDate:e.target.value})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.closeEdit=function(){a.props.getEdit(!1)},a.setSuccess=function(e){a.props.getSuccess(e)},a.state={title:a.props.milestone.title,focus:a.props.milestone.focus,project_id:a.props.milestone.project_id,project_name:a.props.milestone.project.name,selectedDate:Ka()(a.props.milestone.due_date).format("YYYY-MM-DD"),due_date:Ka()(a.props.milestone.due_date).format("YYYY-MM-DD"),creator:a.props.creator,id:a.props.milestone.id},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.form,onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement($t.a,null,"Title"),r.a.createElement(ge.a,{name:"title",type:"text",value:this.state.title,onChange:this.handleChange,fullWidth:!0,className:"my-input"})),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement($t.a,null,"Focus"),r.a.createElement(ge.a,{name:"focus",type:"text",value:this.state.focus,onChange:this.handleChange,fullWidth:!0,className:"my-input"})),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement($t.a,null,"Project"),r.a.createElement(ge.a,{disabled:!0,name:"project",type:"text",value:this.state.project_name,fullWidth:!0,className:"my-input"})),r.a.createElement(Ne,null,r.a.createElement(ge.a,{id:"date",label:"Due date",type:"date",defaultValue:this.state.due_date,value:this.state.selectedDate,onChange:this.handleDateChange,className:"my-input",InputLabelProps:{shrink:!0}})))),r.a.createElement(na,{color:"warning",type:"submit"},"Save"),r.a.createElement(na,{color:"warning",onClick:this.closeEdit}," Go Back"))}}]),t}(n.Component),pr=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage}},function(e){return{milestoneEdit:function(t,a){return e(cr(t,a))}}})(lr)),ur=a(170),mr=a.n(ur),dr=a(39),hr=a.n(dr),gr=a(169),Er=a.n(gr),br=a(282),fr=a.n(br),xr=function(e){var t=e.milestone,a=e.getEdit,n=e.classes,o=e.creator;return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(dt.a,{className:"my-ticket-list"},r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Title",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#ff9800"}},r.a.createElement(yn.a,null)))),r.a.createElement(bt.a,{primary:"Title: "+t.title})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Focus",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#0a66b7"}},r.a.createElement(fr.a,null)))),r.a.createElement(bt.a,{primary:"Focus: "+t.focus})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"project",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50"}},r.a.createElement(Er.a,null)))),r.a.createElement(bt.a,{primary:"Project: "+t.project.name})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Due date",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#041031"}},r.a.createElement(mr.a,null)))),r.a.createElement(bt.a,{primary:"Due date: "+Ka()(t.due_date).format("YYYY-MM-DD")})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Tickets",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#9c27b0"}},r.a.createElement(bn.a,null)))),r.a.createElement(bt.a,{primary:t.tickets?"Tickets: "+t.tickets.length:0})))))),o?r.a.createElement(Jn,null,r.a.createElement(na,{color:"warning",onClick:function(){a(!0)},style:{float:"right"}},"Edit Milestone")):null))},jr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.goToMilestone=function(e){a.props.history.push("/home/milestone/".concat(e))},a.state={page:0,rowsPerPage:5,ticketRowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state.rowsPerPage-Math.min(this.state.rowsPerPage,this.props.milestones.length-this.state.page*this.state.rowsPerPage),a=this.props.milestones;return r.a.createElement("div",null,r.a.createElement(Da,{page:this.state.page,rowsPerPage:this.state.rowsPerPage,emptyRows:t,tableHeaderColor:"warning",tableHead:["Name","Focus","Project","Last updated","Details"],tableData:[a?a.map(function(t){return["".concat(t.title),"".concat(t.focus),"".concat(t.project?t.project.name:null),"".concat(Ka()(t.updated_at).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Go to Milestone",placement:"top",classes:{tooltip:e.props.classes.tooltip},onClick:e.goToMilestone.bind(e,t.id)},r.a.createElement(en.a,{"aria-label":"Go to",className:e.props.classes.tableActionButton},r.a.createElement(rn.a,{className:e.props.classes.tableActionButtonIcon+" "+e.props.classes.edit,style:{color:"#ffa726"}})))]}):null]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:this.props.milestones?this.props.milestones.length:0,rowsPerPage:this.state.rowsPerPage,page:this.state.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(n.Component),yr=Object(A.a)(jr),Cr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.getTicketStatus(),a.props.getTicketTypes()},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.goToTicket=function(e){a.props.history.push({pathname:"/home/ticket/".concat(e),state:{project_id:a.props.project_id}})},a.state={type_id:"",priority:"",status_id:"",page:0,rowsPerPage:5,ticketRowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tickets,n=t.classes,o=t.ticketStatus,s=t.ticketTypes,i=this.state,c=i.rowsPerPage,l=i.page,p=i.status_id,u=i.type_id,m=i.priority,d=c-Math.min(c,a.length-l*c),h=a?a.filter(function(e){return(p?parseInt(e.status_id)===parseInt(p):e)&&(u?parseInt(e.type_id)===parseInt(u):e)&&(m?e.priority===m:e)}):a;return r.a.createElement("div",null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{value:this.state.type_id,select:!0,label:"Type",onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"type_id",id:"type_id"}},r.a.createElement(Tt.a,{value:null},"All"),s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id},r.a.createElement(qa.a,{id:"tooltip-top-start",title:e.type,placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa",height:"30px",width:"30px",marginRight:"20px"}},1===e.id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===e.id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===e.id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}}))),e.type)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{value:this.state.status_id,select:!0,label:"Status",onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"status_id",id:"status_id"}},r.a.createElement(Tt.a,{value:null},"All"),o?o.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.status," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{select:!0,label:"Priority",value:this.state.priority,onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"priority",id:"priority"}},r.a.createElement(Tt.a,{value:null},"All"),r.a.createElement(Tt.a,{value:"low"},r.a.createElement(vt.a,{style:{backgroundColor:"#FADC08",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"Low"),r.a.createElement(Tt.a,{value:"normal"},r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"Normal"),r.a.createElement(Tt.a,{value:"high"},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"High"))))),r.a.createElement(Da,{page:l,rowsPerPage:c,emptyRows:d,tableHeaderColor:"warning",tableHead:["Title","Type","Priority","Assigned to","Status","Due date","Details"],tableData:[h.map(function(t){return["".concat(t.title),r.a.createElement(qa.a,{id:"tooltip-top-start",title:t.type.type,placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa",height:"30px",width:"30px"}},1===t.type_id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===t.type_id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===t.type_id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}}))),"".concat(t.priority),"".concat(t.assigned_user.name),"".concat(t.status.status),"".concat(Ka()(t.due_date).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Go to Ticket",placement:"top",classes:{tooltip:n.tooltip},onClick:e.goToTicket.bind(e,t.id)},r.a.createElement(en.a,{"aria-label":"Go to",className:n.tableActionButton},r.a.createElement(rn.a,{style:{color:"#ff9800"},className:n.tableActionButtonIcon+" "+n.edit})))]})]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a?a.length:null,rowsPerPage:c,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Ae,null))))}}]),t}(n.Component),vr=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage,ticketStatus:e.ticket.ticketStatus,ticketTypes:e.ticket.ticketTypes}},function(e){return{getTicketStatus:function(){return e(fa())},getTicketTypes:function(){return e(ba())}}})(Cr)),Sr=a(156),Tr=a.n(Sr),Or=a(157),_r=a.n(Or),kr=a(158),wr=a.n(kr),Pr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t={id:a.state.id,client_id:a.state.client_id,name:a.state.name,description:a.state.description,active:a.state.active};a.props.editProject(t).then(function(e){a.setSuccess(e.message),a.closeEdit()})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.handleToggleChange=function(e){return function(e){var t=e.target.name;a.setState(Object(F.a)({},t,e.target.checked))}},a.closeEdit=function(){a.props.getEdit(!1)},a.setSuccess=function(e){a.props.getSuccess(e)},a.state={name:a.props.project.name,description:a.props.project.description,id:a.props.project.id,client_id:a.props.project.client_id,active:a.props.project.active},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.form,onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,null,r.a.createElement(Tr.a,{row:!0},r.a.createElement(_r.a,{control:r.a.createElement(wr.a,{name:"active",disableRipple:!0,checked:this.state.active,onChange:this.handleToggleChange("active"),value:"active"}),label:"Active"}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement($t.a,null,"Name"),r.a.createElement(ge.a,{name:"name",type:"text",value:this.state.name,onChange:this.handleChange,fullWidth:!0,className:"my-input"})),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement($t.a,null,"Description"),r.a.createElement(ge.a,{name:"description",type:"text",value:this.state.description,onChange:this.handleChange,fullWidth:!0,className:"my-input"})))),r.a.createElement(na,{color:"success",type:"submit"},"Save"),r.a.createElement(na,{color:"success",onClick:this.closeEdit}," Go Back"))}}]),t}(n.Component),Ar=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage}},function(e){return{editProject:function(t){return e((a=t,function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var n,r,o;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return t({type:"UPDATE_PROJECT_SUCCESS",payload:e}),e},e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects/").concat(a.id),{method:"PUT",body:JSON.stringify(a),headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",n(o));case 11:return e.prev=11,e.t0=e.catch(1),t({type:"UPDATE_PROJECT_FAILURE",message:"Could not update projects"}),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()));var a}}})(Pr)),Nr=a(283),Fr=a.n(Nr),Ir=function(e){var t=e.project,a=e.getEdit,n=e.classes,o=e.team,s=e.creator;return r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:7},r.a.createElement(rr.a,null,r.a.createElement("h1",null,t.name," "),r.a.createElement("h4",null," ",t.description))),r.a.createElement(Ne,{xs:12,sm:12,md:5},r.a.createElement(dt.a,{className:"my-ticket-list"},r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Milestones",placement:"top",classes:{tooltip:n.tooltip}},t.creator?t.creator.avatar?r.a.createElement("img",{src:t.creator.avatar,alt:"user",style:{display:"block",width:"40px",height:"40px",borderRadius:"50%"}}):r.a.createElement(vt.a,null,r.a.createElement(yt.a,null)):null)),r.a.createElement(bt.a,{primary:t.creator?"Admin: "+t.creator.name:null})),t.client?r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Milestones",placement:"top",classes:{tooltip:n.tooltip}},t.client.avatar?r.a.createElement("img",{src:t.client.avatar,alt:"user",style:{display:"block",width:"40px",height:"40px",borderRadius:"50%"}}):r.a.createElement(vt.a,{style:{backgroundColor:"#ec407a"}},r.a.createElement(Fr.a,null)))),r.a.createElement(bt.a,{primary:"Client: "+t.client.name})):null,r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Milestones",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#ff9800"}},r.a.createElement(yn.a,null)))),r.a.createElement(bt.a,{primary:t.milestones?"Milestones: "+t.milestones.length:0})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Tickets",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#9c27b0"}},r.a.createElement(bn.a,null)))),r.a.createElement(bt.a,{primary:t.tickets?"Tickets: "+t.tickets.length:0})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Team",placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#26c6da"}},r.a.createElement(Qn.a,null)))),r.a.createElement(bt.a,{primary:o?"Team: "+o.length:0})))),r.a.createElement(Ne,{xs:12,sm:12,md:12},s?r.a.createElement(na,{color:"success",onClick:function(){a(!0)},style:{float:"right"}},"Edit Project"):null)))},Rr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.editMilestone=function(e){a.props.history.push("/home/milestone/".concat(e))},a.createNewMilestone=function(){a.props.history.push({pathname:"/home/create-milestone",state:{project_id:a.state.id,project_name:a.state.name}})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.state={id:a.props.project.id,name:a.props.project.name,page:0,rowsPerPage:5,ticketRowsPerPage:5,open:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.milestones,n=t.classes,o=t.creator,s=this.state,i=s.rowsPerPage,c=s.page,l=i-Math.min(i,a.length-c*i);return console.log(a),r.a.createElement("div",null,r.a.createElement(Da,{page:c,rowsPerPage:i,emptyRows:l,tableHeaderColor:"success",tableHead:o?["Title","Focus","Due date","Last updated","Details","Remove"]:["Title","Focus","Due date","Last updated","Details",""],tableData:[a?a.map(function(t){return["".concat(t.title),"".concat(t.focus),"".concat(Ka()(t.due_date).format("YYYY-MM-DD")),"".concat(Ka()(t.updated_at).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Edit Milestone",placement:"top",classes:{tooltip:n.tooltip},onClick:e.editMilestone.bind(e,t.id)},r.a.createElement(en.a,{"aria-label":"Edit",className:n.tableActionButton},r.a.createElement(rn.a,{style:{color:"#66bb6a"},className:n.tableActionButtonIcon+" "+n.edit}))),o?r.a.createElement("div",null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Delete milestone",placement:"top",onClick:e.handleClickOpen,classes:{tooltip:n.tooltip}},r.a.createElement(en.a,{"aria-label":"Close",className:n.tableActionButton},r.a.createElement(Nn.a,{style:{color:"#f44336"},className:n.tableActionButtonIcon+" "+n.close}))),r.a.createElement(lo,{type:"milestone",title:"Are you sure you want to delete this milestone?",id:t.id,open:e.state.open,onClose:e.handleClose})):null]}):null]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a?a.length:null,rowsPerPage:i,page:c,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Ae,null,o?r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"success",onClick:this.createNewMilestone.bind(this)},"Create new Milestone")):null))}}]),t}(n.Component),Mr=Object(A.a)(Rr),Ur=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.team&&a.setState({team:a.props.team})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.invitePeople=function(){a.props.history.push({pathname:"/home/project-invite/".concat(a.props.match.params.id),state:{project_id:a.props.project.id}})},a.getSuccess=function(e){a.setState({successMessage:e}),a.showNotification("tr"),a.props.getTeam(a.props.match.params.id).then(function(e){a.setState({team:e.team})})},a.showNotification=function(e){var t=[];t[e]=!0,a.setState(t),a.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(Object(me.a)(Object(me.a)(a))),4e3)},a.state={id:a.props.project.id,name:a.props.project.name,page:0,rowsPerPage:5,ticketRowsPerPage:5,open:!1},a.invitePeople=a.invitePeople.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.creator,o=t.successMessage,s=this.state,i=s.rowsPerPage,c=s.page,l=s.team,p=i-Math.min(i,l.length-c*i);return r.a.createElement("div",null,r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:o,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Da,{page:c,rowsPerPage:l?l.length:null,emptyRows:p,tableHeaderColor:"success",tableHead:n?["","Name","Role","Remove"]:["","Name","Role",""],tableData:[l?l.map(function(t){return t.user?[t.user.avatar?r.a.createElement("img",{src:t.user.avatar,alt:"user",style:{display:"block",width:"40px",height:"40px",borderRadius:"50%"}}):r.a.createElement(vt.a,{stye:{width:"30px",height:"30px"}},r.a.createElement(Ut.a,null)),"".concat(t.user.name),"".concat(t.role?t.role.role:null),1!==t.role.id&&n?r.a.createElement("div",null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Remove",placement:"top",onClick:e.handleClickOpen,classes:{tooltip:a.tooltip}},r.a.createElement(en.a,{"aria-label":"Close",className:a.tableActionButton},r.a.createElement(Nn.a,{className:a.tableActionButtonIcon+" "+a.close}))),r.a.createElement(lo,{type:"team",title:"Are you sure you want to remove this user from the team?",id:t.id,open:e.state.open,onClose:e.handleClose,getSuccess:e.getSuccess.bind(e)})):null]:null}):null]}),r.a.createElement(Jn,null,n?r.a.createElement(na,{color:"success",onClick:this.invitePeople},"Invite people"):null))}}]),t}(n.Component),Lr=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.project.successMessage}},function(e){return{getTeam:function(t){return e(Oa(t))}}})(Ur)),Dr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.getTicketStatus(),a.props.getTicketTypes()},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.goToTicket=function(e){a.props.history.push({pathname:"/home/ticket/".concat(e),state:{project_id:a.props.project.id}})},a.createNewTicket=function(){a.props.history.push({pathname:"/home/create-ticket",state:{project_id:a.props.project.id}})},a.state={type_id:"",priority:"",status_id:"",page:0,rowsPerPage:5,ticketRowsPerPage:5},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tickets,n=t.classes,o=t.ticketStatus,s=t.ticketTypes,i=this.state,c=i.rowsPerPage,l=i.page,p=i.status_id,u=i.type_id,m=i.priority,d=c-Math.min(c,a.length-l*c),h=a?a.filter(function(e){return(p?e.status_id==p:e)&&(u?e.type_id==u:e)&&(m?e.priority==m:e)}):a;return r.a.createElement("div",null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Ae,{style:{padding:"10px 20px 20px"}},r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{value:this.state.type_id,select:!0,label:"Type",onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"type_id",id:"type_id"}},r.a.createElement(Tt.a,{value:null},"All"),s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id},r.a.createElement(qa.a,{id:"tooltip-top-start",title:e.type,placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa",height:"30px",width:"30px",marginRight:"20px"}},1===e.id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===e.id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===e.id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}}))),e.type)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{value:this.state.status_id,select:!0,label:"Status",onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"status_id",id:"status_id"}},r.a.createElement(Tt.a,{value:null},"All"),o?o.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.status," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:n.formControl},r.a.createElement(ge.a,{select:!0,label:"Priority",value:this.state.priority,onChange:this.handleChange.bind(this),className:"my-select",margin:"normal",inputProps:{name:"priority",id:"priority"}},r.a.createElement(Tt.a,{value:null},"All"),r.a.createElement(Tt.a,{value:"low"},r.a.createElement(vt.a,{style:{backgroundColor:"#FADC08",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"Low"),r.a.createElement(Tt.a,{value:"normal"},r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"Normal"),r.a.createElement(Tt.a,{value:"high"},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",marginRight:"20px"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})),"High"))))),r.a.createElement(Da,{page:l,rowsPerPage:c,emptyRows:d,tableHeaderColor:"success",tableHead:["Title","Type","Priority","Assigned to","Status","Due date","Details"],tableData:[h.map(function(t){return["".concat(t.title),r.a.createElement(qa.a,{id:"tooltip-top-start",title:t.type.type,placement:"top",classes:{tooltip:n.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa",height:"30px",width:"30px"}},1===t.type_id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===t.type_id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===t.type_id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}}))),"".concat(t.priority),"".concat(t.assigned_user.name),"".concat(t.status.status),"".concat(Ka()(t.due_date).format("YYYY-MM-DD")),r.a.createElement(qa.a,{id:"tooltip-top",title:"Go to Ticket",placement:"top",classes:{tooltip:n.tooltip},onClick:e.goToTicket.bind(e,t.id)},r.a.createElement(en.a,{"aria-label":"Go to",className:n.tableActionButton},r.a.createElement(rn.a,{style:{color:"#66bb6a"},className:n.tableActionButtonIcon+" "+n.edit})))]})]}),r.a.createElement(Qa.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a?a.length:null,rowsPerPage:c,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"success",onClick:this.createNewTicket.bind(this)},"Create new Ticket"))))))}}]),t}(n.Component),Hr=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage,ticketStatus:e.ticket.ticketStatus,ticketTypes:e.ticket.ticketTypes}},function(e){return{getTicketStatus:function(){return e(fa())},getTicketTypes:function(){return e(ba())}}})(Dr)),Br=a(89),zr=(new N.a).get("token"),Wr=a(119),Gr=a.n(Wr),Yr=a(118),Jr=a(54),$r=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.setState({editorState:Jr.EditorState.createEmpty()})},a.sendComment=function(){var e={comment:Object(Jr.convertToRaw)(a.state.editorState.getCurrentContent()),ticket_id:a.state.ticket_id,images:a.state.urls};a.props.commentCreate(e).then(function(e){a.props.successMessage&&(a.props.getSuccess(a.props.successMessage),a.props.hideForm(!1))})},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.onDrop=function(e){var t=(new N.a).get("token");a.state.urls.length&&a.state.urls.map(function(e){return a.props.removeFromStorage(e)});for(var n=function(){o=e[r];var n=new FileReader,s=Object(me.a)(Object(me.a)(a));s.setState({urls:[]}),n.onload=function(e){var a=new FormData;return a.append("file",e),ar.a.post("".concat("http://127.0.0.1:8000","/api/tickets/image"),a,{headers:{"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)}}).then(function(e){var t="http://127.0.0.1:8000"+e.data.url;s.setState({urls:[].concat(Object(Br.a)(s.state.urls),[t])})})}(o),n.readAsDataURL(o)},r=0;r<e.length;r++){var o;n()}},a.componentWillUnmount=function(){a.state.urls.length&&a.state.urls.map(function(e){return a.props.removeFromStorage(e)})},a.state={editorState:"",ticket_id:a.props.ticket_id,urls:[]},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"removeImage",value:function(e){this.props.removeFromStorage(e);var t=this.state.urls.filter(function(t){return t!==e});this.setState({urls:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.editorState,n=t.urls,o=this.props.classes;return r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yr.Editor,{editorState:a,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji"]}}),r.a.createElement(er.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880}),r.a.createElement(Ae,null,n.length?n.map(function(t){return r.a.createElement(Ne,{xs:3,sm:3,md:3},r.a.createElement("div",{style:{width:"auto",position:"relative"}},r.a.createElement("img",{src:t,style:{width:"auto",maxWidth:"100%",maxHeight:"200px",display:"block",position:"relative"},alt:"preview"}),r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Remove image",placement:"top",onClick:e.removeImage.bind(e,t),classes:{tooltip:o.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",position:"absolute",right:"-12px",top:"-12px"}},r.a.createElement(Gr.a,null)))))}):null))),r.a.createElement(na,{color:"primary",style:{float:"right"},onClick:this.sendComment.bind(this)},"Comment!"))}}]),t}(n.Component),Kr=Object(c.b)(function(e){return{successMessage:e.comment.successMessage}},function(e){return{commentCreate:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){return a({type:"CREATE_COMMENT_SUCCESS",payload:t}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/comments"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(zr),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"CREATE_COMMENT_FAILURE",message:"Could not create comment"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},removeFromStorage:function(t){return e(ya(t))}}})($r),Vr=a(171),Qr=a.n(Vr),Xr=a(159),qr=a.n(Xr),Zr=a(209),eo=a.n(Zr),to=a(160),ao=a.n(to),no=a(120),ro=a.n(no),oo=a(284),so=a.n(oo),io={avatar:{backgroundColor:eo.a[100],color:eo.a[600]}},co=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.onClose(!1)},a.handleListItemClick=function(e){a.props.onClose(e)},a.deleteProject=function(){a.props.deleteProject(a.props.id).then(function(){a.props.successMessageProject&&a.props.history.push({pathname:"/home/projects",state:{successMessage:a.props.successMessageProject}})})},a.deleteMilestone=function(){a.props.deleteMilestone(a.props.id).then(function(){void 0===a.props.location.state?a.props.history.push({pathname:"/home/milestones",state:{successMessage:a.props.successMessageMilestone}}):a.props.successMessageMilestone&&a.props.history.push({pathname:"/home/projects",state:{successMessage:a.props.successMessageMilestone}})})},a.setSuccess=function(e){a.props.getSuccess(e)},a.removeUserFromTeam=function(){a.props.removeFromTeam(a.props.id).then(function(){a.setSuccess(a.props.successMessageTeam)})},a.deleteUser=function(){a.props.deleteUser(a.props.id).then(function(){var e=new N.a;e.remove("token",{path:"/"}),e.remove("user",{path:"/"}),a.props.history.push("/")})},a.deleteComment=function(){a.props.commentDelete(a.props.id).then(function(){a.setSuccess(a.props.successMessageComment)})},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"ticketDelete",value:function(){var e=this;this.props.deleteTicket(this.props.id).then(function(t){e.props.successMessage&&e.props.history.push({pathname:"/home/projects",state:{successMessage:e.props.successMessage}})})}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.selectedValue,e.id,e.title),a=e.type,n=Object(k.a)(e,["classes","onClose","selectedValue","id","title","type"]);return r.a.createElement(qr.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement(ue,null,r.a.createElement(De,{color:"danger"},r.a.createElement(ao.a,{id:"simple-dialog-title"},t)),r.a.createElement(dt.a,{style:{display:"flex",padding:"50px"}},r.a.createElement(gt.a,{onClick:"ticket"===a?this.ticketDelete.bind(this):"project"===a?this.deleteProject.bind(this):"team"===a?this.removeUserFromTeam.bind(this):"milestone"===a?this.deleteMilestone.bind(this):"comment"===a?this.deleteComment.bind(this):this.deleteUser.bind(this)},r.a.createElement(hr.a,null,r.a.createElement(vt.a,{style:{backgroundColor:"#f44336"}},r.a.createElement(ro.a,null))),r.a.createElement(bt.a,{primary:"Delete"})),r.a.createElement(gt.a,{onClick:this.handleClose.bind(this)},r.a.createElement(hr.a,null,r.a.createElement(vt.a,null,r.a.createElement(so.a,null))),r.a.createElement(bt.a,{primary:"Cancel"})))))}}]),t}(n.Component),lo=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage,successMessageProject:e.project.successMessage,successMessageMilestone:e.milestone.successMessage,successMessageTeam:e.project.successMessage,successMessageComment:e.comment.successMessage}},function(e){return{deleteTicket:function(t){return e(xa(t))},deleteProject:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_PROJECT_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_PROJECT_FAILURE",message:"Could not delete project"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},deleteMilestone:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_MILESTONE_SUCCESS",payload:e.message}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/milestones/").concat(e),{method:"DELETE",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(ir),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_MILESTONE_FAILURE",message:"Could not delete milestone"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},removeFromTeam:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"REMOVE_FROM_TEAM_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects/team/user/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"REMOVE_FROM_TEAM_FAILURE",message:"Could not delete project"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},deleteUser:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_USER_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/users/account/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Se),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_USER_FAILURE",message:"Could not delete image"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},commentDelete:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"DELETE_COMMENT_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/comments/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(zr),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"DELETE_COMMENT_FAILURE",message:"Could not delete milestone"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(Object(de.withStyles)(io)(co))),po=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){if(a.props.getTicketTypes(),a.props.getTicketStatus(),a.props.description.blocks.text){var e=Qr()(a.props.description),t=Object(Jr.convertFromHTML)(e),n=Jr.ContentState.createFromBlockArray(t.contentBlocks,t.entityMap);a.setState({editorState:Jr.EditorState.createWithContent(n)})}else a.setState({editorState:Jr.EditorState.createEmpty()})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.handleDateChange=function(e){a.setState({selectedDate:e.target.value})},a.onDrop=function(e){for(var t=(new N.a).get("token"),n=function(){o=e[r];var n=new FileReader,s=Object(me.a)(Object(me.a)(a));s.setState({urls:[]}),n.onload=function(e){var a=new FormData;return a.append("file",e),ar.a.post("".concat("http://127.0.0.1:8000","/api/tickets/image"),a,{headers:{"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)}}).then(function(e){var t="http://127.0.0.1:8000"+e.data.url;s.setState({urls:[].concat(Object(Br.a)(s.state.urls),[t])})})}(o),n.readAsDataURL(o)},r=0;r<e.length;r++){var o;n()}},a.removeFromState=function(e,t){var n=a.state.urls.filter(function(e){return e.attachment!==t});a.setState({urls:n,ids_to_delete:[].concat(Object(Br.a)(a.state.ids_to_delete),[e]),urls_to_delete:[].concat(Object(Br.a)(a.state.ids_to_delete),[t])})},a.submit=function(e){e.preventDefault();""===a.state.selectedDate?a.date=a.state.due_date:a.date=a.state.selectedDate,a.state.ids_to_delete.length&&a.state.ids_to_delete.map(function(e){a.props.deleteAttachment(e)}),a.state.urls_to_delete&&a.state.urls_to_delete.map(function(e){a.props.removeFromStorage(e)});var t={assigned_user_id:a.state.assigned_user_id,description:Object(Jr.convertToRaw)(a.state.editorState.getCurrentContent()),due_date:a.date,milestone_id:a.state.milestone_id,priority:a.state.priority,status_id:a.state.status_id,title:a.state.title,type_id:a.state.type_id,project_id:a.state.project_id,image_urls:a.state.urls};a.props.updateTicket(t,a.props.match.params.id).then(function(e){a.setSuccess(e.message)})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.setSuccess=function(e){a.props.getSuccess(e)},a.state={ids_to_delete:[],urls_to_delete:[],assigned_user_id:a.props.assigned_user_id,description:a.props.description,due_date:a.props.due_date,milestone_id:a.props.milestone_id,priority:a.props.priority,status_id:a.props.status_id,title:a.props.title,type_id:a.props.type_id,project_id:a.props.project_id,project_name:a.props.project_name,urls:a.props.images,selectedDate:Ka()(a.props.due_date).format("YYYY-MM-DD"),editorState:"",open:!1},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a.submit=a.submit.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.ticketStatus,o=t.ticketTypes,s=t.team,i=t.milestones,c=t.creator,l=t.user,p=t.admin,u=this.state,m=u.editorState,d=u.assigned_user_id,h=u.urls;return r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement("div",null,r.a.createElement(ge.a,{disabled:l!=c&&!p,name:"title",type:"text",label:"Title",className:"my-input",value:this.state.title,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ge.a,{disabled:!0,name:"project",type:"text",label:"Project",className:"my-input",value:this.state.project_name,fullWidth:!0})),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{disabled:l!=c&&!p,select:!0,label:"Type",margin:"normal",className:"my-input",value:this.state.type_id,onChange:this.handleChange,inputProps:{name:"type_id",id:"type_id"}},o?o.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.type," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,label:"Status",margin:"normal",className:"my-input",value:this.state.status_id,onChange:this.handleChange,inputProps:{name:"status_id",id:"status_id"}},n?n.map(function(e){return r.a.createElement(Tt.a,{disabled:l===d&&!p&&3!==e.id,key:e.id,value:e.id},e.status)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,disabled:l!=c&&!p,label:"Milestone",margin:"normal",className:"my-input",value:this.state.milestone_id,onChange:this.handleChange,inputProps:{name:"milestone_id",id:"milestone_id"}},i?i.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.title," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,disabled:l!=c&&!p,label:"Priority",margin:"normal",className:"my-input",value:this.state.priority,onChange:this.handleChange,inputProps:{name:"priority",id:"priority"}},r.a.createElement(Tt.a,{value:"low"}," low "),r.a.createElement(Tt.a,{value:"normal"}," normal "),r.a.createElement(Tt.a,{value:"high"}," high ")))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{select:!0,disabled:l!=c&&!p,label:"Assinged user",margin:"normal",className:"my-input",fullWidth:!0,value:this.state.assigned_user_id,onChange:this.handleChange,inputProps:{name:"assigned_user_id",id:"assigned_user_id"}},s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.user.id,value:e.user.id}," ",e.user.name," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(ge.a,{id:"date",label:"Due date",type:"date",disabled:l!=c&&!p,className:"my-input",fullWidth:!0,value:this.state.selectedDate,onChange:this.handleDateChange,InputLabelProps:{shrink:!0}}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yr.Editor,{editorState:m,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji"]}}),r.a.createElement(er.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880}),r.a.createElement(Ae,null,l==c&&h.length?h.map(function(t){return r.a.createElement(Ne,{xs:12,sm:12,md:3,style:{flexBasis:"unset"}},r.a.createElement("div",{style:{display:"flex",width:"100%",position:"relative"}},r.a.createElement("img",{src:t.attachment?t.attachment:t,style:{width:"auto",maxWidth:"100%",maxHeight:"200px",display:"block",position:"relative"},alt:"preview"}),r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Remove image",placement:"top",onClick:e.removeFromState.bind(e,t.id?t.id:0,t.attachment?t.attachment:t),classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",position:"absolute",right:"-12px",top:"-12px"}},r.a.createElement(Gr.a,null)))))}):null),l==c?r.a.createElement("div",null,r.a.createElement(na,{color:"danger",onClick:this.handleClickOpen,style:{float:"right"}}," Delete "),r.a.createElement(lo,{type:"ticket",title:"Are you sure you want to delete this ticket?",id:this.props.match.params.id,open:this.state.open,onClose:this.handleClose})):null,r.a.createElement(na,{color:"primary",type:"submit",style:{float:"right"}}," Save ")))))}}]),t}(n.Component),uo=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.ticket.successMessage,ticketTypes:e.ticket.ticketTypes,ticketStatus:e.ticket.ticketStatus}},function(e){return{updateTicket:function(t,a){return e(function(e,t){return function(){var a=Object(Ce.a)(ye.a.mark(function a(n){var r,o,s;return ye.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=function(e){return n({type:"UPDATE_TICKET_SUCCESS",payload:e}),e},a.prev=1,a.next=4,fetch("".concat("http://127.0.0.1:8000","/api/tickets/").concat(t),{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return o=a.sent,a.next=7,o.json();case 7:return s=a.sent,a.abrupt("return",r(s));case 11:return a.prev=11,a.t0=a.catch(1),n({type:"UPDATE_TICKET_FAILURE",message:"Could not update ticket"}),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}},a,null,[[1,11]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},deleteTicket:function(t){return e(xa(t))},getTicketTypes:function(){return e(ba())},getTicketStatus:function(){return e(fa())},deleteAttachment:function(t){return e(ja(t))},removeFromStorage:function(t){return e(ya(t))}}})(po)),mo=a(285),ho=a(172),go=a.n(ho),Eo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.convertFromJSONToHTML=function(e){return Object(mo.stateToHTML)(Object(Jr.convertFromRaw)(e))},a.state={open:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.comments,n=t.user,o=t.classes;return r.a.createElement(dt.a,null,a?a.map(function(t){return r.a.createElement(ue,null,r.a.createElement(gt.a,{style:{borderBottom:"1px solid grey",padding:"30px"}},r.a.createElement(Ae,{style:{width:"100%"}},r.a.createElement(Ne,{xs:12,sm:12,md:12,style:{display:"flex",alignItems:"flex-start"}},r.a.createElement(hr.a,null,r.a.createElement(vt.a,null,n.avatar?r.a.createElement("img",{src:n.avatar,alt:"user",style:{display:"block",width:"40px",height:"40px",borderRadius:"50%"}}):r.a.createElement(Ut.a,null))),r.a.createElement(bt.a,{primary:t.user?t.user.name+" | "+Ka()(t.created_at).format("YYYY-MM-DD"):null}),t.user_id===parseInt(n.id)?r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Delete comment",placement:"top",onClick:e.handleClickOpen,classes:{tooltip:o.tooltip}},r.a.createElement(en.a,{"aria-label":"Close",className:o.tableActionButton},r.a.createElement(Nn.a,{className:o.tableActionButtonIcon+" "+o.close}))):null,r.a.createElement(lo,{type:"comment",title:"Are you sure you want to delete this comment?",id:t.id,open:e.state.open,onClose:e.handleClose,getSuccess:e.props.getSuccess.bind(e)})),r.a.createElement(Ne,{xs:12,sm:12,md:12},t.comment?t.comment.blocks[0].text?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.convertFromJSONToHTML(t.comment)}}):null:r.a.createElement(Tn.a,{className:"my-spinner",color:"primary"})),t.images.length?r.a.createElement(Ne,{xs:12,sm:12,md:12,style:{marginTop:"100px"}},r.a.createElement(go.a,{items:t.images.map(function(e){return{original:e.attachment,thumbnail:e.attachment}})})):null)))}):null)}}]),t}(n.Component),bo=function(e){var t=e.description;return r.a.createElement("div",null,t&&t.blocks&&t.entityMap?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:Qr()(t)}}):null)},fo=a(286),xo=a.n(fo),jo=function(e){var t=e.ticket,a=e.classes;return r.a.createElement(dt.a,{className:"my-ticket-list"},r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Due date",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#041031"}},r.a.createElement(mr.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:"Due date: "+Ka()(t.due_date).format("YYYY-MM-DD")})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Assigned user",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336"}},t.assigned_user?r.a.createElement("img",{src:t.assigned_user.avatar,alt:"user",style:{display:"block",width:"40px",height:"40px",borderRadius:"50%"}}):r.a.createElement(xo.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:t.assigned_user?"Assigned: "+t.assigned_user.name:null})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Status",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50"}},r.a.createElement(un.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:t.status?"Status: "+t.status.status:null})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Ticket type",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#8e24aa"}},1===t.type_id?r.a.createElement(sn.a,{style:{fontSize:"18px"}}):2===t.type_id?r.a.createElement(ln.a,{style:{fontSize:"18px"}}):3===t.type_id?r.a.createElement(un.a,{style:{fontSize:"18px"}}):r.a.createElement(dn.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:t.type?"Type: "+t.type.type:null})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Priority",placement:"top",classes:{tooltip:a.tooltip}},"low"==t.priority?r.a.createElement(vt.a,{style:{backgroundColor:"#FADC08"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})):"normal"==t.priority?r.a.createElement(vt.a,{style:{backgroundColor:"#4caf50"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})):r.a.createElement(vt.a,{style:{backgroundColor:"#f44336"}},r.a.createElement(an.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:"Priority: "+t.priority})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Milestone",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#ff9800"}},r.a.createElement(yn.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:t.milestone?"Milestone: "+t.milestone.title:null})),r.a.createElement(gt.a,null,r.a.createElement(hr.a,null,r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Comments",placement:"top",classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#00acc1"}},r.a.createElement(vn.a,{style:{fontSize:"18px"}})))),r.a.createElement(bt.a,{primary:t.comments?"Comments: "+t.comments.length:0})))},yo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){var e=(new N.a).get("user");a.props.getUser(e).then(function(t){a.setState({user:e,name:t.user.name,email:t.user.email,avatar:t.user.avatar})});for(var t=window.setTimeout(null,0);t--;)window.clearTimeout(t)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.submit=function(e){if(e.preventDefault(),null!==a.state.password){if(a.state.repeatPassword===a.state.password){var t={name:a.state.name,email:a.state.email,password:a.state.password,avatar:a.state.avatar};a.props.updateUser(t,a.state.user).then(function(e){a.setState({successMessage:e.message})}).then(function(){a.showNotification("tr")})}}else{var n={name:a.state.name,email:a.state.email,avatar:a.state.avatar};a.props.updateUser(n,a.state.user).then(function(e){a.setState({successMessage:e.message})}).then(function(){a.showNotification("tr")})}},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.state={user:"",name:"",email:"",password:null,repeatPassword:"",successMessage:"",open:!1},a.onDrop=a.onDrop.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"onDrop",value:function(e){var t=(new N.a).get("token"),a=new FileReader,n=this;a.onload=function(){var a=new FormData;return a.append("file",e[0]),ar.a.post("".concat("http://127.0.0.1:8000","/api/tickets/image"),a,{headers:{"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)}}).then(function(e){var t="http://127.0.0.1:8000"+e.data.url;n.setState({avatar:t})})},a.readAsDataURL(e[0])}},{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),6e3)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.successMessage,o=a.user;return r.a.createElement("form",{className:t.form,onSubmit:this.submit},r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:n,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"rose"},r.a.createElement("h4",{className:t.cardTitleWhite},"Edit Profile")),r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},this.state.avatar?r.a.createElement("img",{src:this.state.avatar,alt:"profile",style:{display:"block",borderRadius:"50%",width:"100px",height:"100px",margin:"auto"}}):r.a.createElement(vt.a,{style:{margin:"auto",height:"100px",width:"100px"}},r.a.createElement(yt.a,{style:{fontSize:"70px"}})),r.a.createElement(er.a,{withIcon:!0,buttonText:"Upload new profile picture",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880})),r.a.createElement(Ae,null),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(ge.a,{label:"name",id:"name",type:"text",name:"name",className:"my-input",value:this.state.name,onChange:this.handleChange.bind(this),fullWidth:!0})),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(ge.a,{label:"email",type:"email",name:"email",id:"email-address",value:this.state.email,onChange:this.handleChange.bind(this),className:"my-input",fullWidth:!0}))),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(ge.a,{label:"password",id:"password",type:"password",name:"password",className:"my-input",onChange:this.handleChange.bind(this),fullWidth:!0})),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(ge.a,{label:"repeat password",id:"password",type:"password",name:"repeatPassword",onChange:this.handleChange.bind(this),className:"my-input",fullWidth:!0})))),r.a.createElement(Jn,null,r.a.createElement(na,{type:"submit",color:"rose"},"Update Profile"),r.a.createElement(na,{color:"rose",onClick:this.handleClickOpen},"Remove Account"),r.a.createElement(lo,{type:"account",title:"Are you sure you want to delete your account?",id:o.id,open:this.state.open,onClose:this.handleClose}))))))}}]),t}(n.Component),Co=Object(A.a)(Object(c.b)(function(e){return{user:e.auth.user,successMessage:e.auth.successMessage}},function(e){return{getUser:function(t){return e(Oe(t))},updateUser:function(t,a){return e(function(e,t){return function(){var a=Object(Ce.a)(ye.a.mark(function a(n){var r,o,s;return ye.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=function(e){return n({type:"UPDATE_USER_SUCCESS",payload:e}),e},a.prev=1,a.next=4,fetch("".concat("http://127.0.0.1:8000","/api/users/").concat(t),{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(Se),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return o=a.sent,a.next=7,o.json();case 7:return s=a.sent,a.abrupt("return",r(s));case 11:return a.prev=11,a.t0=a.catch(1),n({type:"UPDATE_USER_FAILURE",message:"Could not update user"}),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}},a,null,[[1,11]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))}}})(L()({cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none"}})(yo))),vo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.getAllProjects();for(var e=window.setTimeout(null,0);e--;)window.clearTimeout(e);a.props.location.state&&(a.props.location.state.successMessage||a.props.location.state.errorMessage)&&(a.setState({successMessage:a.props.location.state.successMessage,errorMessage:a.props.location.state.errorMessage}),a.showNotification("tr"))},a.createNewMilestone=function(){a.props.history.push("/home/create-milestone")},a.state={errorMessage:"",successMessage:""},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),6e3)}},{key:"render",value:function(){var e=this,t=this.props.milestones.flatMap(function(e){return e});return r.a.createElement(Ae,null,this.state.errorMessage?r.a.createElement(In,{place:"tr",color:"danger",icon:Mn.a,message:this.state.errorMessage,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}):r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:this.state.successMessage,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"warning"},r.a.createElement("h4",{className:this.props.classes.cardTitleWhite},"Milestones")),r.a.createElement(Ie,null,r.a.createElement(yr,{milestones:t||null,classes:this.props.classes}),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"warning",onClick:this.createNewMilestone.bind(this)},"Create new Milestone")))))))}}]),t}(n.Component),So=Object(A.a)(Object(c.b)(function(e){return{milestones:e.project.milestones}},function(e){return{getAllProjects:function(t,a){return e(Ta())}}})(L()(ke)(vo))),To=a(287),Oo=a.n(To),_o=a(288),ko=a.n(_o),wo=[{path:"/dashboard",name:"Dashboard",icon:Bt.a,component:kn,layout:"/home"},{path:"/projects",name:"Projects",icon:Er.a,component:zn,layout:"/home"},{path:"/milestones",name:"Milestones",icon:yn.a,component:So,layout:"/home"},{path:"/tickets",name:"Tickets",icon:bn.a,component:Gn,layout:"/home"},{path:"/invite",name:"Invite",icon:Oo.a,component:qn,layout:"/home"},{path:"/user",name:"User Profile",icon:Ut.a,component:Co,layout:"/home"},{path:"/logout",name:"Log out",icon:ko.a,layout:"/home"}],Po=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){var e=new N.a,t=e.get("user");a.setState({user:t}),e.set("invitation",a.props.match.params.id,{path:"/",maxAge:86399});var n=e.get("invitation");t?a.props.getUser(t).then(function(e){a.setState({loggedInUserEmail:e.user.email})}).then(function(){a.props.getEmailFromInvitation(n).then(function(e){e.email&&a.setState({invitedUserEmail:e.email[0],existingUser:e.existing})}).then(function(){a.redirect(n,!1)})}):a.props.getEmailFromInvitation(n).then(function(e){e.email&&a.setState({invitedUserEmail:e.email[0],existingUser:e.existing})})},a.state={loggedInUserEmail:null,invitedUserEmail:"",existingUser:"",register:!1,user:""},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"redirect",value:function(e,t){var a=this,n=new N.a;this.state.loggedInUserEmail===this.state.invitedUserEmail?this.props.acceptInvitation(e).then(function(e){a.props.history.push({pathname:"/home/projects",state:{successMessage:e.message}}),n.remove("invitation",{path:"/"})}):t?this.props.acceptInvitation(e).then(function(e){a.props.history.push({pathname:"/home/projects",state:{successMessage:e.message}}),n.remove("invitation",{path:"/"})}):this.props.getEmailFromInvitation(e).then(function(e){e.email&&a.setState({invitedUserEmail:e.email[0],existingUser:e.existing})})}},{key:"render",value:function(){var e=this.state,t=e.invitedUserEmail,a=e.existingUser;return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:6,style:{margin:"auto",marginTop:"50vh",transform:"translateY(-50%)"}},r.a.createElement(ue,null,r.a.createElement(De,{color:"success"},r.a.createElement("h4",{className:this.props.classes.cardTitleWhite},"Accept Invitation")),r.a.createElement(Ie,null,a?r.a.createElement(Ue,{email:t}):r.a.createElement(sr,{email:t,redirect:this.redirect.bind(this)})))))}}]),t}(n.Component),Ao=Object(A.a)(Object(c.b)(function(e){return{user:e.auth.user,email:e.auth.email}},function(e){return{getUser:function(t){return e(Oe(t))},getEmailFromInvitation:function(t){return e((a=t,function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var n,r,o;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return t({type:"GET_EMAIL_SUCCESS",payload:e}),e},e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/api/invitation/").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(Se),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",n(o));case 11:return e.prev=11,e.t0=e.catch(1),t({type:"GET_EMAIL_FAILURE",message:"Could not get email"}),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()));var a},acceptInvitation:function(t){return e(_e(t))}}})(L()(ke)(Po))),No=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).submit=function(e){if(e.preventDefault(),a.state.title&&a.state.focus&&a.state.selectedDate&&a.state.project_id){var t={title:a.state.title,focus:a.state.focus,due_date:a.state.selectedDate,project_id:a.state.project_id,backToProject:!1};a.props.milestoneCreate(t).then(function(){a.state.backToProject?a.props.successMessage&&a.props.history.push({pathname:"/home/project/".concat(a.state.project_id),state:{successMessage:a.props.successMessage}}):a.props.successMessage&&a.props.history.push({pathname:"/home/milestones",state:{successMessage:a.props.successMessage}})})}else a.setState({hasError:!0})},a.showNotification=function(e){var t=[];t[e]=!0,a.setState(t),a.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(Object(me.a)(Object(me.a)(a))),6e3)},a.componentWillMount=function(){a.props.location.state&&(a.props.location.state.project_id||a.props.location.state.project_name||a.props.location.state.errorMessage)?(a.setState({project_id:a.props.location.state.project_id,project_name:a.props.location.state.project_name,backToProject:!0,errorMessage:a.props.location.state.errorMessage}),a.showNotification("tr"),a.props.getProject(a.props.location.state.project_id)):a.props.getAllProjects()},a.componentWillUnmount=function(){a.setState({backToProject:!1,successMessage:""})},a.goBack=function(){a.props.history.push({pathname:"/home/project/".concat(a.state.project_id)})},a.handleDateChange=function(e){a.setState({selectedDate:e.target.value})},a.createNewProject=function(){a.props.history.push("/home/create-project/")},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.state={title:"",focus:"",due_date:"",project_id:"",selectedDate:"",project_name:"",backToProject:!1,hasError:!1,errorMessage:""},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.allProjects,o=t.successMessage,s=t.project,i=this.state,c=i.project_id,l=i.project_name,p=i.backToProject,u=i.hasError,m=i.errorMessage,d=n.length?n.filter(function(e){return 1==e.role_id}):null;return r.a.createElement(Ae,null,m||o?r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:o||m,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}):null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"warning"},r.a.createElement("h4",{className:a.cardTitleWhite},"Create new milestone")),n.length||s?r.a.createElement("form",{className:a.form,onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:a.formControl},u&&!this.state.title&&r.a.createElement(Kn.a,{id:"title"},"Please select title!"),r.a.createElement(ge.a,{error:!(!u||this.state.title),name:"title",type:"text",label:"Title",id:"title",className:"my-input",value:this.state.title,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:a.formControl},u&&!this.state.focus&&r.a.createElement(Kn.a,{id:"focus"},"Please select focus!"),r.a.createElement(ge.a,{error:!(!u||this.state.focus),name:"focus",type:"text",label:"Focus",id:"focus",className:"my-input",value:this.state.focus,onChange:this.handleChange,multiline:!0,fullWidth:!0}))),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(Yt.a,{className:a.formControl},u&&!c&&r.a.createElement(Kn.a,{id:"project_id"},"Please select project!"),r.a.createElement(ge.a,{error:!(!u||c),select:!0,disabled:!!p,label:"Project",variant:"outlined",margin:"normal",className:"my-input",value:c,onChange:this.handleChange,inputProps:{name:"project_id",id:"project_id"}},d?d.map(function(e){return r.a.createElement(Tt.a,{key:e.project_id,value:e.project_id},e.project.name)}):r.a.createElement(Tt.a,{key:s.id,value:s.id},s.name)))),r.a.createElement(Ne,{xs:12,sm:12,md:6},r.a.createElement(Yt.a,{className:a.formControl},u&&!this.state.selectedDate&&r.a.createElement(Kn.a,{id:"date"},"Please select due date!"),r.a.createElement(ge.a,{error:!(!u||this.state.selectedDate),id:"date",label:"Due date",type:"date",variant:"outlined",margin:"normal",className:"my-input",value:this.state.selectedDate,onChange:this.handleDateChange,InputLabelProps:{shrink:!0}}))))),r.a.createElement(Jn,null,r.a.createElement(na,{color:"warning",type:"submit"},"Create milestone"),p?r.a.createElement(na,{color:"warning",onClick:this.goBack.bind(this)},"Back to ",l):null)):r.a.createElement(Ie,null,r.a.createElement(Re.b,null,"You don't have any active projects yet"),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:2,md:2},r.a.createElement(na,{color:"warning",onClick:this.createNewProject.bind(this)},"Create new Project")))))))}}]),t}(n.Component),Fo=Object(A.a)(Object(c.b)(function(e){return{allProjects:e.project.allProjects,project:e.project.project,successMessage:e.milestone.successMessage}},function(e){return{milestoneCreate:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){return a({type:"CREATE_MILESTONE_SUCCESS",payload:t}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/milestones"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(ir),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"CREATE_MILESTONE_FAILURE",message:"Could not create milestone"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},getProject:function(t){return e(va(t))},getAllProjects:function(){return e(Ta())}}})(L()(ke)(No))),Io=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).submit=function(e){if(e.preventDefault(),a.state.name&&a.state.description){var t={name:a.state.name,description:a.state.description};a.props.projectCreate(t).then(function(e){e.error||a.props.successMessage&&a.props.history.push({pathname:"/home/projects",state:{successMessage:a.props.successMessage}})})}else a.setState({hasError:!0})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.state={name:null,description:null,tr:!1,hasError:!1},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.hasError;return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"success"},r.a.createElement("h4",{className:e.cardTitleWhite},"Create new project")),r.a.createElement("form",{className:e.form,onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:e.formControl},t&&!this.state.name&&r.a.createElement(Kn.a,{id:"name"},"Please select name!"),r.a.createElement(ge.a,{error:!(!t||this.state.name),name:"name",type:"text",label:"Name",className:"my-input",value:this.state.name,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:e.formControl},t&&!this.state.description&&r.a.createElement(Kn.a,{id:"description"},"Please write a description!"),r.a.createElement(ge.a,{error:!(!t||this.state.description),name:"description",type:"text",label:"Description",className:"my-input",value:this.state.description,onChange:this.handleChange,multiline:!0,fullWidth:!0}))))),r.a.createElement(Jn,null,r.a.createElement(na,{color:"success",type:"submit"},"Create Project"))))))}}]),t}(n.Component),Ro=Object(A.a)(Object(c.b)(function(e){return{successMessage:e.project.successMessage}},function(e){return{projectCreate:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"CREATE_PROJECT_SUCCESS",payload:e}),e},t.prev=1,t.next=4,fetch("".concat("http://127.0.0.1:8000","/api/projects"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(Ca),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n(o));case 11:return t.prev=11,t.t0=t.catch(1),a({type:"CREATE_PROJECT_FAILURE",message:"Could not fetch projects"}),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(L()(ke)(Io))),Mo=a(2),Uo=a.n(Mo),Lo=(a(632),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).onEditorStateChange=function(e){a.setState({editorState:e})},a.goBack=function(){a.props.history.push({pathname:"/home/project/".concat(a.state.project_id)})},a.handleDateChange=function(e){a.setState({selectedDate:e.target.value})},a.submit=function(e){if(e.preventDefault(),a.state.title&&a.state.description&&a.state.type_id&&a.state.status_id&&a.state.project_id&&a.state.priority&&a.state.selectedDate&&a.state.assigned_user_id&&a.state.milestone_id){var t={title:a.state.title,description:Object(Jr.convertToRaw)(a.state.editorState.getCurrentContent()),type_id:a.state.type_id,status_id:a.state.status_id,project_id:a.state.project_id,priority:a.state.priority,due_date:a.state.selectedDate,assigned_user_id:a.state.assigned_user_id,milestone_id:a.state.milestone_id,image_urls:a.state.urls};a.props.ticketCreate(t).then(function(){a.props.successMessage&&(a.setState({urls:[]}),a.props.history.push({pathname:"/home/project/".concat(a.state.project_id),state:{successMessage:a.props.successMessage}}))})}else a.setState({hasError:!0})},a.componentWillMount=function(){var e=(new N.a).get("user");a.setState({user:e}),a.props.location.state&&(a.props.location.state.project_id||a.props.location.state.backToProject)?(a.setState({backToProject:!0,project_id:a.props.location.state.project_id}),a.props.getProject(a.props.location.state.project_id).then(function(e){e.project.milestones.length||a.props.history.push({pathname:"/home/create-milestone",state:{errorMessage:"You have to create a milestone first!",project_id:a.state.project_id}})})):a.props.getAllProjects(),a.props.getTicketTypes(),a.props.getTicketStatus()},a.componentWillUnmount=function(){a.state.urls.length&&a.state.urls.map(function(e){return a.props.removeFromStorage(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r)),"project_id"===e.target.name&&a.props.getProject(r).then(function(){a.state.user==a.props.project.client_id&&a.setState({status_id:3,assigned_user_id:a.props.project.creator_id})})},a.state={title:"",description:[],type_id:"",status_id:"",project_id:"",priority:"",due_date:"",assigned_user_id:"",milestone_id:"",selectedDate:"",project_name:"",editorState:Jr.EditorState.createEmpty(),image:"",success:!1,error:!1,imagePreviewUrls:[],url:null,urls:[],editorContent:"",submitted:!1,hasError:!1,user:""},a.handleChange=a.handleChange.bind(Object(me.a)(Object(me.a)(a))),a.onDrop=a.onDrop.bind(Object(me.a)(Object(me.a)(a))),a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"onDrop",value:function(e){var t=this,a=(new N.a).get("token");this.state.urls.length&&this.state.urls.map(function(e){return t.props.removeFromStorage(e)});for(var n=function(){o=e[r];var n=new FileReader,s=t;s.setState({urls:[]}),n.onload=function(e){var t=new FormData;return t.append("file",e),ar.a.post("".concat("http://127.0.0.1:8000","/api/tickets/image"),t,{headers:{"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)}}).then(function(e){var t="http://127.0.0.1:8000"+e.data.url;s.setState({urls:[].concat(Object(Br.a)(s.state.urls),[t])})})}(o),n.readAsDataURL(o)},r=0;r<e.length;r++){var o;n()}}},{key:"removeImage",value:function(e){this.props.removeFromStorage(e);var t=this.state.urls.filter(function(t){return t!==e});this.setState({urls:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.allProjects,o=t.ticketTypes,s=t.ticketStatus,i=t.project,c=t.team,l=this.state,p=l.editorState,u=l.backToProject,m=l.hasError,d=l.user,h=l.urls;function g(e,t){return e.map(function(e){return e[t]}).map(function(e,t,a){return a.indexOf(e)===t&&t}).filter(function(t){return e[t]}).map(function(t){return e[t]})}g(n,"project_id");var E=g(c,"user_id").filter(function(e){return 1===e.role_id||e.user_id===parseInt(d)}),b={input:{marginBottom:"25px",minWidth:"100%"}};return r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"primary"},r.a.createElement("h4",{className:a.cardTitleWhite},"Create new ticket")),r.a.createElement("form",{className:a.form,onSubmit:this.submit},r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.title&&r.a.createElement(Kn.a,{id:"title"},"Please select title!"),r.a.createElement(ge.a,{error:!(!m||this.state.title),id:"title",name:"title",type:"text",label:"Title",style:b.input,value:this.state.title,onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"normal","aria-describedby":"component-error-text"}))),r.a.createElement(Ne,{xs:12,sm:12,md:4},n||i?r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.project_id&&r.a.createElement(Kn.a,null,"Please select project!"),r.a.createElement(ge.a,{error:!(!m||this.state.project_id),style:b.input,select:!0,disabled:!!u,label:"Project",variant:"outlined",margin:"normal",value:this.state.project_id,onChange:this.handleChange,inputProps:{name:"project_id",id:"project_id"}},u&&i?r.a.createElement(Tt.a,{key:i.id,value:i.id},i.name):n?n.map(function(e){return r.a.createElement(Tt.a,{key:e.project.id,value:e.project.id},e.project.name)}):null)):r.a.createElement(Tn.a,{className:"my-spinner",color:"primary"})),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.type_id&&r.a.createElement(Kn.a,null,"Please select ticket type!"),r.a.createElement(ge.a,{error:!(!m||this.state.type_id),classes:a,select:!0,label:"Type",variant:"outlined",margin:"normal",value:this.state.type_id,onChange:this.handleChange,style:b.input,inputProps:{name:"type_id",id:"type_id"}},o?o.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.type," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.status_id&&r.a.createElement(Kn.a,null,"Please select ticket status!"),r.a.createElement(ge.a,{error:!(!m||this.state.status_id),select:!0,disabled:i?d==i.client_id:null,label:"Status",variant:"outlined",margin:"normal",value:this.state.status_id,onChange:this.handleChange,style:b.input,inputProps:{name:"status_id",id:"status_id"}},s?s.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.status," ")}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.priority&&r.a.createElement(Kn.a,null,"Please select priority!"),r.a.createElement(ge.a,{error:!(!m||this.state.priority),select:!0,label:"Priority",variant:"outlined",margin:"normal",style:b.input,value:this.state.priority,onChange:this.handleChange,inputProps:{name:"priority",id:"priority"}},r.a.createElement(Tt.a,{value:"low"}," low "),r.a.createElement(Tt.a,{value:"normal"}," normal "),r.a.createElement(Tt.a,{value:"high"}," high ")))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.assigned_user_id&&r.a.createElement(Kn.a,null,"Assign the ticket to a team member!"),r.a.createElement(ge.a,{error:!(!m||this.state.assigned_user_id),select:!0,disabled:i?d==i.client_id:null,label:"Assign user",variant:"outlined",margin:"normal",style:b.input,value:this.state.assigned_user_id,onChange:this.handleChange,inputProps:{name:"assigned_user_id",id:"assigned_user_id"}},i?i.creator_id===parseInt(d)?c?c.map(function(e){return r.a.createElement(Tt.a,{key:e.user.id,value:e.user.id},e.user.name)}):null:E?E.map(function(e){return r.a.createElement(Tt.a,{key:e.user.id,value:e.user.id},e.user.name)}):null:null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.milestone_id&&r.a.createElement(Kn.a,null,"Please select milestone!"),r.a.createElement(ge.a,{error:!(!m||this.state.milestone_id),select:!0,label:"milestone",variant:"outlined",margin:"normal",style:b.input,value:this.state.milestone_id,onChange:this.handleChange,inputProps:{name:"milestone_id",id:"milestone_id"}},i&&i.milestones?i.milestones.map(function(e){return r.a.createElement(Tt.a,{key:e.id,value:e.id}," ",e.title)}):null))),r.a.createElement(Ne,{xs:12,sm:12,md:4},r.a.createElement(Yt.a,{className:a.formControl},m&&!this.state.due_date&&r.a.createElement(Kn.a,null,"Please select due date!"),r.a.createElement(ge.a,{error:!(!m||this.state.selectedDate),id:"date",label:"Due date",type:"date",variant:"outlined",margin:"normal",style:b.input,value:this.state.selectedDate,onChange:this.handleDateChange,InputLabelProps:{shrink:!0}}))),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(Yt.a,{className:a.formControl},r.a.createElement(Yr.Editor,{editorState:p,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji"]}}),r.a.createElement(er.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880}),r.a.createElement(Ae,null,h.length?h.map(function(t){return r.a.createElement(Ne,{xs:12,sm:12,md:3,style:{flexBasis:"unset"}},r.a.createElement("div",{style:{display:"flex",width:"100%",position:"relative"}},r.a.createElement("img",{src:t,style:{width:"auto",maxWidth:"100%",maxHeight:"200px",display:"block",position:"relative"},alt:"preview"}),r.a.createElement(qa.a,{id:"tooltip-top-start",title:"Remove image",placement:"top",onClick:e.removeImage.bind(e,t),classes:{tooltip:a.tooltip}},r.a.createElement(vt.a,{style:{backgroundColor:"#f44336",height:"30px",width:"30px",position:"absolute",right:"-12px",top:"-12px"}},r.a.createElement(Gr.a,null)))))}):null))))),r.a.createElement(Jn,null,r.a.createElement(na,{color:"primary",type:"submit"},"Create Ticket"),u?r.a.createElement(na,{color:"primary",onClick:this.goBack.bind(this)},"Back to project"):null)))))}}]),t}(n.Component));ge.a.propTypes={classes:Uo.a.object};var Do=Object(A.a)(Object(c.b)(function(e){return{project:e.project.project,team:e.project.team,allProjects:e.project.allProjects,isFetching:e.project.isFetching,ticketTypes:e.ticket.ticketTypes,ticketStatus:e.ticket.ticketStatus,successMessage:e.ticket.successMessage,url:e.ticket.url}},function(e){return{ticketCreate:function(t){return e((a=t,function(){var e=Object(Ce.a)(ye.a.mark(function e(t){var n,r,o,s;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return t({type:"CREATE_TICKET_SUCCESS",payload:e}),a},r=function(e){return t({type:"CREATE_TICKET_FAILURE",message:"Could not fetch projects"}),e},e.prev=2,e.next=5,fetch("".concat("http://127.0.0.1:8000","/api/tickets"),{method:"POST",body:JSON.stringify(a),headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return o=e.sent,e.next=8,o.json();case 8:return s=e.sent,e.abrupt("return",n(s));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}()));var a},getTicketTypes:function(){return e(ba())},getTicketStatus:function(){return e(fa())},getAllProjects:function(){return e(Ta())},getProject:function(t){return e(va(t))},deleteAttachment:function(t){return e(ja(t))},removeFromStorage:function(t){return e(ya(t))}}})(L()(ke)(Lo))),Ho=a(173),Bo=a.n(Ho),zo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).getEdit=function(e){a.setState({edit:e})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a.getSuccess=function(e){a.setState({successMessage:e}),a.showNotification("tr"),a.props.getMilestone(a.props.match.params.id).then(function(e){e.milestone?a.setState({id:e.milestone.id,title:e.milestone.title,focus:e.milestone.focus,project:e.milestone.project.name,project_id:e.milestone.project.id,due_date:e.milestone.due_date,creator:e.milestone.project.creator_id,milestone:e.milestone}):a.props.history.push("/home")})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.state={auth_user_id:"",title:"",focus:"",project:"",project_id:"",selectedDate:"",due_date:"",creator:"",id:"",open:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=(new N.a).get("user");this.setState({auth_user_id:t}),this.props.getMilestone(this.props.match.params.id).then(function(t){t.milestone?e.setState({id:t.milestone.id,title:t.milestone.title,focus:t.milestone.focus,project:t.milestone.project.name,project_id:t.milestone.project.id,due_date:t.milestone.due_date,creator:t.milestone.project.creator_id,milestone:t.milestone}):e.props.history.push({pathname:"/home/milestones",state:{errorMessage:"There is no milestone with that id"}})});for(var a=window.setTimeout(null,0);a--;)window.clearTimeout(a)}},{key:"showNotification",value:function(e){var t=[];t[e]=!0,this.setState(t),this.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(this),4e3)}},{key:"goToTicket",value:function(e){this.props.history.push("/home/ticket/".concat(e))}},{key:"milestoneDelete",value:function(){var e=this;this.props.deleteMilestone(this.state.id).then(function(){e.props.successMessage&&e.props.history.push({pathname:"/home/projects",state:{successMessage:e.props.successMessage}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tickets,o=t.successMessage,s=this.state,i=s.edit,c=s.creator,l=s.auth_user_id,p=s.milestone;return r.a.createElement(Ae,null,r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:o,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,p?r.a.createElement(Ja,{headerColor:"warning",tabs:[{tabName:"Info",tabIcon:Bo.a,tabContent:i?r.a.createElement(pr,{classes:a,milestone:p,getSuccess:this.getSuccess.bind(this),getEdit:this.getEdit.bind(this)}):r.a.createElement(xr,{milestone:p,classes:a,getEdit:this.getEdit.bind(this),creator:c===parseInt(l)})},{tabName:"Tickets",tabIcon:bn.a,tabContent:n?r.a.createElement(vr,{tickets:n,classes:a,project_id:this.state.project_id}):null},parseInt(l)===c?{tabName:"Delete",tabIcon:ro.a,tabContent:r.a.createElement(Ie,null,r.a.createElement(na,{color:"warning",onClick:this.handleClickOpen},"Delete milestone"),r.a.createElement(lo,{type:"milestone",title:"Are you sure you want to delete this milestone?",id:p.id,open:this.state.open,onClose:this.handleClose}))}:null]}):null)))}}]),t}(n.Component),Wo=Object(A.a)(Object(c.b)(function(e){return{milestone:e.milestone.milestone,isFetching:e.milestone.isFetching,tickets:e.milestone.tickets,successMessage:e.milestone.successMessage}},function(e){return{getMilestone:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_MILESTONE_SUCCESS",payload:e}),e},t.prev=1,a({type:"GET_MILESTONE_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/milestones/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(ir),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"GET_MILESTONE_FAILURE",message:"Could not fetch milestone"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}(t))},milestoneEdit:function(t,a){return e(cr(t,a))}}})(L()(ke)(zo))),Go=function(){return r.a.createElement("div",null,r.a.createElement("p",null," not found "))},Yo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){var e=(new N.a).get("user");a.setState({user:e}),a.props.getProject(a.props.match.params.id).then(function(e){e.project?a.setState({id:e.project.id,name:e.project.name,description:e.project.description,client_id:e.project.client_id,milestones:e.project.milestones}):a.props.history.push({pathname:"/home/projects",state:{errorMessage:"There is no project with that id"}})});for(var t=window.setTimeout(null,0);t--;)window.clearTimeout(t);a.props.location.state&&a.props.location.state.successMessage&&(a.setState({successMessage:a.props.location.state.successMessage}),a.showNotification("tr"))},a.showNotification=function(e){var t=[];t[e]=!0,a.setState(t),a.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(Object(me.a)(Object(me.a)(a))),4e3)},a.componentWillUnmount=function(){a.setState({successMessage:""})},a.getSuccess=function(e){a.setState({successMessage:e}),a.showNotification("tr"),a.props.getProject(a.props.match.params.id).then(function(e){a.setState({id:e.project.id,name:e.project.name,description:e.project.description,client_id:e.project.client_id,milestones:e.project.milestones})})},a.getEdit=function(e){a.setState({edit:e})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:e})},a.state={user:"",name:"",description:"",client_id:"",id:"",tr:!1,page:0,rowsPerPage:5,ticketRowsPerPage:5,milestones:[],edit:!1,successMessage:a.props.successMessage,open:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.team,o=t.project,s=t.tickets,i=t.isFetching,c=this.state,l=c.edit,p=c.successMessage,u=c.user,m=c.milestones;return i?r.a.createElement(On,null):r.a.createElement("div",null,r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:p||"",open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),o?r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(Ja,{headerColor:"success",tabs:[{tabName:"".concat(o.name),tabIcon:Bo.a,tabContent:l?r.a.createElement(Ar,{classes:a,project:o,getSuccess:this.getSuccess.bind(this),getEdit:this.getEdit.bind(this)}):r.a.createElement(Ir,{project:o,getEdit:this.getEdit.bind(this),classes:a,team:n,creator:o.creator_id===parseInt(u)})},{tabName:"Milestones",tabIcon:yn.a,tabContent:r.a.createElement(Mr,{classes:a,milestones:m,project:o,getSuccess:this.getSuccess.bind(this),creator:o.creator_id===parseInt(u)})},{tabName:"Tickets",tabIcon:bn.a,tabContent:r.a.createElement(Hr,{tickets:s,classes:a,project:o,getSuccess:this.getSuccess.bind(this)})},{tabName:"Team",tabIcon:Qn.a,tabContent:r.a.createElement(Lr,{team:n,classes:a,project:o,user:u,creator:o.creator_id===parseInt(u)})},o.creator_id===parseInt(u)?{tabName:"Delete",tabIcon:ro.a,tabContent:r.a.createElement(Ie,null,r.a.createElement(na,{color:"success",onClick:this.handleClickOpen},"Delete project"),r.a.createElement(lo,{type:"project",title:"Are you sure you want to delete this project?",id:o.id,open:this.state.open,onClose:this.handleClose}))}:null]})))):null)}}]),t}(n.Component),Jo=Object(A.a)(Object(c.b)(function(e){return{project:e.project.project,team:e.project.team,tickets:e.project.tickets,isFetching:e.project.isFetching,successMessage:e.project.successMessage}},function(e){return{getProject:function(t){return e(va(t))}}})(L()(ke)(Yo))),$o=a(289),Ko=a.n($o),Vo=(a(633),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).componentWillMount=function(){a.props.getTicket(a.props.match.params.id).then(function(e){e.ticket||a.props.history.push({pathname:"/home/tickets",state:{errorMessage:"There is no ticket with that id"}})});for(var e=window.setTimeout(null,0);e--;)window.clearTimeout(e);var t=(new N.a).get("user");a.props.getUser(t),a.setState({edit:!1})},a.showNotification=function(e){var t=[];t[e]=!0,a.setState(t),a.alertTimeout=setTimeout(function(){t[e]=!1,this.setState(t)}.bind(Object(me.a)(Object(me.a)(a))),4e3)},a.showForm=function(e){a.state.edit?a.setState({edit:!1,ButtonText:"Edit Ticket"}):a.setState({edit:!0,ButtonText:"Close edit"}),(a.state.showComments||a.state.addComment)&&a.setState({showComments:!1,CommentText:"Show Comments",addComment:!1,ButtonTextComment:"Add Comment"})},a.showComments=function(e){a.state.showComments?a.setState({showComments:!1,CommentText:"Show Comments"}):a.setState({showComments:!0,CommentText:"Hide Comments",edit:!1,ButtonText:"Update Ticket"})},a.showCommentForm=function(e){a.state.addComment?a.setState({addComment:!1,ButtonTextComment:"Add Comment"}):a.setState({addComment:!0,ButtonTextComment:"Close",edit:!1,ButtonText:"Update Ticket"})},a.hideForm=function(e){a.setState({addComment:e,ButtonTextComment:"Add Comment"}),a.setState({showComments:!0,CommentText:"Hide Comments"})},a.getSuccess=function(e){a.setState({successMessage:e}),a.showNotification("tr"),a.props.getTicket(a.props.match.params.id).then(function(e){e.ticket&&a.setState({assigned_user_id:e.ticket.assigned_user_id,description:e.ticket.description,due_date:e.ticket.due_date,milestone_id:e.ticket.milestone_id,priority:e.ticket.priority,status_id:e.ticket.status_id,title:e.ticket.title,type_id:e.ticket.type_id,project_name:e.ticket.project.name,project_id:e.ticket.project_id,creator:e.ticket.project.creator_id,ticket:e.ticket,comment:null,edit:!1,ButtonText:"Edit Ticket"})})},a.state={ticket:"",user:"",edit:"",ButtonText:"Update Ticket",editorState:"",addComment:!1,ButtonTextComment:"Add Comment",CommentText:"Show Comments",showComments:!1,successMessage:"",description:""},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.team,o=t.milestones,s=t.isFetching,i=t.comments,c=t.ticket,l=t.description,p=t.user,u=t.images,m=this.state,d=m.edit,h=m.ButtonText,g=m.addComment,E=m.ButtonTextComment,b=m.successMessage,f=m.CommentText,x=m.showComments,j=[u?u.map(function(e){return{original:e.attachment,thumbnail:e.attachment}}):null];return r.a.createElement("div",null,r.a.createElement(In,{place:"tr",color:"success",icon:Mn.a,message:b,open:this.state.tr,closeNotification:function(){return e.setState({tr:!1})},close:!0}),s&&!c?r.a.createElement(Tn.a,{className:"my-spinner",color:"primary"}):r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(ue,null,r.a.createElement(De,{color:"primary"},r.a.createElement("h4",{className:a.cardTitleWhite,style:{fontSize:"2em"}},c.title," "),r.a.createElement("h4",{className:a.cardTitleWhite},"Assigned to ",c.assigned_user?c.assigned_user.name:null)),r.a.createElement(Ie,null,r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:7},l?r.a.createElement(bo,{description:l}):r.a.createElement(On,null)),r.a.createElement(Ne,{xs:12,sm:12,md:5},r.a.createElement(jo,{ticket:c,classes:a})),r.a.createElement(Ne,{xs:12,sm:12,md:12},u.length?r.a.createElement(ue,null,r.a.createElement(go.a,{items:j[0]})):null))),r.a.createElement(Jn,null,i.length&&!g?r.a.createElement("div",null,r.a.createElement(na,{color:"primary",onClick:this.showComments},f),x?r.a.createElement(na,{color:"primary",onClick:this.showCommentForm},E):null):r.a.createElement(na,{color:"primary",onClick:this.showCommentForm},E),c.creator_id===parseInt(p.id)||c.assigned_user_id===parseInt(p.id)?r.a.createElement(na,{color:"primary",onClick:this.showForm}," ",h," "):null)))),c.creator_id!==parseInt(p.id)&&c.assigned_user_id!==parseInt(p.id)||!d?null:r.a.createElement(ue,null,r.a.createElement(De,{color:"primary"},r.a.createElement("h4",{className:a.cardTitleWhite}," ",r.a.createElement(Ko.a,null)," "),r.a.createElement("h4",{className:a.cardTitleWhite}," Update ticket")),r.a.createElement(Ae,null,r.a.createElement(Ne,{xs:12,sm:12,md:12},r.a.createElement(uo,{images:u,creator:c.creator_id,user:p.id,classes:a,team:n,admin:c.project?c.project.creator_id:null,milestones:o,description:l,assigned_user_id:c.assigned_user_id,due_date:c.due_date,milestone_id:c.milestone_id,priority:c.priority,status_id:c.status_id,title:c.title,type_id:c.type_id,project_id:c.project_id,project_name:c.project?c.project.name:null,getSuccess:this.getSuccess.bind(this)})))),x||g?r.a.createElement(ue,null,r.a.createElement(De,{color:"primary"},r.a.createElement("h4",{className:a.cardTitleWhite},"Comments")),r.a.createElement(Ie,null,g?r.a.createElement(Kr,{classes:this.props.classes,ticket_id:c.id,getSuccess:this.getSuccess.bind(this),hideForm:this.hideForm.bind(this)}):null,r.a.createElement(Eo,{comments:i,user:p,classes:a,getSuccess:this.getSuccess.bind(this)}))):null)}}]),t}(n.Component)),Qo=Object(A.a)(Object(c.b)(function(e){return{ticket:e.ticket.ticket,team:e.ticket.team,milestones:e.ticket.milestones,isFetching:e.ticket.isFetching,user:e.auth.user,comments:e.ticket.comments,description:e.ticket.description,successMessage:e.comment.successMessage,images:e.ticket.images}},function(e){return{getTicket:function(t){return e(function(e){return function(){var t=Object(Ce.a)(ye.a.mark(function t(a){var n,r,o;return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return a({type:"GET_TICKET_SUCCESS",payload:e}),e},t.prev=1,a({type:"GET_TICKET_REQUEST"}),t.next=5,fetch("".concat("http://127.0.0.1:8000","/api/tickets/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(ga),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,t.abrupt("return",n(o));case 12:return t.prev=12,t.t0=t.catch(1),a({type:"GET_TICKET_FAILURE",message:"Could not fetch ticket"}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}(t))},getUser:function(t){return e(Oe(t))}}})(L()(ke)(Vo))),Xo=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(u.a)((t={},Object(F.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(F.a)(t,"overflow","auto"),Object(F.a)(t,"position","relative"),Object(F.a)(t,"float","right"),t),H,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:B}},qo=(a(634),r.a.createElement(P.a,null,wo.map(function(e,t){if("/home"===e.layout)return r.a.createElement(i.a,{path:e.layout+e.path,component:e.component,key:t})}),r.a.createElement(i.a,{exact:!0,path:"/home/create-milestone",component:Fo}),r.a.createElement(i.a,{path:"/home/milestone/:id",component:Wo}),r.a.createElement(i.a,{exact:!0,path:"/home/create-project",component:Ro}),r.a.createElement(i.a,{path:"/home/project/:id",component:Jo}),r.a.createElement(i.a,{exact:!0,path:"/home/create-ticket",component:Do}),r.a.createElement(i.a,{path:"/home/ticket/:id",component:Qo}),r.a.createElement(i.a,{path:"/home/project-invite/:id",component:qn}))),Zo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleImageClick=function(e){a.setState({image:e})},a.handleColorClick=function(e){a.setState({color:e})},a.handleFixedClick=function(){"dropdown"===a.state.fixedClasses?a.setState({fixedClasses:"dropdown show"}):a.setState({fixedClasses:"dropdown"})},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.resizeFunction=function(){window.innerWidth>=960&&a.setState({mobileOpen:!1})},a.componentWillMount=function(){if(navigator.platform.indexOf("Win")>-1)new rt.a(a.refs.mainPanel);window.addEventListener("resize",a.resizeFunction);var e=new N.a;e.get("token")||a.props.history.push("/");var t=e.get("user");a.props.getUser(t)},a.state={image:ha.a,color:"blue",hasImage:!0,fixedClasses:"dropdown show",mobileOpen:!1},a}return Object(_.a)(t,e),Object(S.a)(t,[{key:"getRoute",value:function(){return this.props.location.pathname}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.classes,n=e.isFetching,o=Object(k.a)(e,["user","classes","isFetching"]);return n?r.a.createElement(On,null):t?r.a.createElement("div",{className:a.wrapper},r.a.createElement(ma,Object.assign({routes:wo,logoText:t?t.name:"",image:this.state.image,logo:this.props.user.avatar,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:this.state.color},o)),r.a.createElement("div",{className:a.mainPanel,ref:"mainPanel"},this.getRoute()?r.a.createElement("div",{className:a.content},r.a.createElement("div",{className:a.container},qo)):"",this.getRoute()?r.a.createElement(st,null):null)):r.a.createElement(On,null)}}]),t}(r.a.Component),es=Object(A.a)(Object(c.b)(function(e){return{user:e.auth.user,isFetching:e.auth.isFetching}},function(e){return{getUser:function(t){return e(Oe(t))}}})(L()(Xo)(Zo)));function ts(e){var t=e.component,a=Object(k.a)(e,["component"]),n=(new N.a).get("token");return r.a.createElement(i.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(w.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var as=function(e){function t(){return Object(v.a)(this,t),Object(T.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:nt}),r.a.createElement(ts,{path:"/home/logout",component:nt}),r.a.createElement(ts,{path:"/home",component:es}),r.a.createElement(ts,{exact:!0,path:"/home/create-project",component:Ro}),r.a.createElement(ts,{exact:!0,path:"/home/project/{id}",component:Jo}),r.a.createElement(i.a,{path:"/accept/:id",component:Ao}),r.a.createElement(i.a,{component:Go})))}}]),t}(n.Component),ns=Object(A.a)(as),rs=[p.a],os=Object(l.d)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),l.a.apply(void 0,rs)),ss=function(){return r.a.createElement(c.a,{store:os},r.a.createElement(s.a,null,r.a.createElement(i.a,{path:"/",component:ns})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.render)(r.a.createElement(ss,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[340,1,2]]]);
//# sourceMappingURL=main.3facd5d4.chunk.js.map